<!-- Generated by SpecStory -->

# Pre-Push Test and Pull Request Setup (2025-04-30 09:55:29)

_**User**_

Let's add our test to our pre-push. Please create a branch, adding that, and then "mitten push" and create a pull request to the GitHub CLI.

---

_**Assistant**_



---

Okay, let's get that done.

First, I'll create a new branch for these changes.

---

```bash
git checkout -b add-pre-push-test
```

```
➜  mcp-dev-server git:(main) git checkout -b add-pre-push-test
Switched to a new branch 'add-pre-push-test'
husky - DEPRECATED

Please remove the following two lines from .husky/post-checkout:

#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

They WILL FAIL in v10.0.0

➜  mcp-dev-server git:(main)
```

---

Now, I need to modify the `pre-push` hook file. I'll read the current content first.

---

Could not find file '.husky/pre-push' in the workspace.

---

It seems the `pre-push` file doesn't exist yet. Let's create it and add the necessary script lines along with the test command.

---

```diff
- 
+ #!/usr/bin/env sh
+ . "$(dirname -- "$0")/_/husky.sh"
+ 
+ pnpm test 
```

---

Great, the file is created. Now let's make it executable.

---

```bash
chmod +x .husky/pre-push
```

```
?➜  mcp-dev-server git:(add-pre-push-test) 

```

---

Now I'll stage and commit the new hook file.

---

```bash
git add .husky/pre-push && git commit -m 'chore: add test step to pre-push hook'
```

```
<it commit -m 'chore: add test step to pre-push hook'
→ No staged files match any configured task.
[add-pre-push-test 1ae2ede] chore: add test step to pre-push hook
 1 file changed, 4 insertions(+)
 create mode 100755 .husky/pre-push
➜  mcp-dev-server git:(add-pre-push-test) ✗
```

---

Next, I'll push the branch to the remote repository. This will trigger the `pre-push` hook we just added, running the tests.

---

```bash
git push origin add-pre-push-test
```

```
husky - DEPRECATED

Please remove the following two lines from .husky/pre-push:

#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

They WILL FAIL in v10.0.0


> mcp-pm@0.0.0-placeholder test /Users/johnlindquist/dev/mcp-dev-server
> vitest run


 RUN  v3.1.2 /Users/johnlindquist/dev/mcp-dev-server

stdout | tests/integration/mcp-server.test.ts > MCP Process Manager Server (Stdio Integration)
[TEST] BeforeAll: Setting up server...
[TEST] Spawning MCP server: node /Users/johnlindquist/dev/mcp-dev-server/build/index.mjs 
[TEST] Server process spawned with PID: 77683
[TEST] Waiting for server ready promise...

stderr | tests/integration/mcp-server.test.ts > MCP Process Manager Server (Stdio Integration)
[Server STDERR RAW]: [mcp-pm] INFO: MCP Process Manager Tool running... 

[Server STDERR]: [mcp-pm] INFO: MCP Process Manager Tool running...

stderr | tests/integration/mcp-server.test.ts > MCP Process Manager Server (Stdio Integration)
[Server STDERR RAW]: [mcp-pm] INFO: Version: 0.0.0-placeholder 
[mcp-pm] INFO: [Diag] os.tmpdir() returned: /var/folders/c3/r013q3_93_s4zycmx0mdnt2h0000gn/T 
[mcp-pm] INFO: [Diag] Log directory name component: mcp-pm-logs-77683 
[mcp-pm] INFO: [Diag] path.join result: /var/folders/c3/r013q3_93_s4zycmx0mdnt2h0000gn/T/mcp-pm-logs-77683 

[Server STDERR]: [mcp-pm] INFO: Version: 0.0.0-placeholder 
[mcp-pm] INFO: [Diag] os.tmpdir() returned: /var/folders/c3/r013q3_93_s4zycmx0mdnt2h0000gn/T 
[mcp-pm] INFO: [Diag] Log directory name component: mcp-pm-logs-77683 
[mcp-pm] INFO: [Diag] path.join result: /var/folders/c3/r013q3_93_s4zycmx0mdnt2h0000gn/T/mcp-pm-logs-77683

stderr | tests/integration/mcp-server.test.ts > MCP Process Manager Server (Stdio Integration)
[Server STDERR RAW]: [mcp-pm] INFO: Created log directory: /var/folders/c3/r013q3_93_s4zycmx0mdnt2h0000gn/T/
mcp-pm-logs-77683

[Server STDERR]: [mcp-pm] INFO: Created log directory: /var/folders/c3/r013q3_93_s4zycmx0mdnt2h0000gn/T/mcp-
pm-logs-77683

stderr | tests/integration/mcp-server.test.ts > MCP Process Manager Server (Stdio Integration)
[Server STDERR RAW]: [mcp-pm] INFO: Tool definitions registered. 

[Server STDERR]: [mcp-pm] INFO: Tool definitions registered.

stderr | tests/integration/mcp-server.test.ts > MCP Process Manager Server (Stdio Integration)
[Server STDERR RAW]: [mcp-pm] INFO: Setting zombie process check interval to 60000ms. 

[Server STDERR]: [mcp-pm] INFO: Setting zombie process check interval to 60000ms.

stdout | tests/integration/mcp-server.test.ts > MCP Process Manager Server (Stdio Integration)
[TEST] MCP server ready signal detected in stderr.

stderr | tests/integration/mcp-server.test.ts > MCP Process Manager Server (Stdio Integration)
[Server STDERR RAW]: [mcp-pm] INFO: MCP Server connected and listening via stdio. 

[Server STDERR]: [mcp-pm] INFO: MCP Server connected and listening via stdio.

stdout | tests/integration/mcp-server.test.ts > MCP Process Manager Server (Stdio Integration)
[TEST] Server startup successful.

stdout | tests/integration/mcp-server.test.ts > MCP Process Manager Server (Stdio Integration)
[TEST] Short delay after server ready signal completed.

stdout | tests/integration/mcp-server.test.ts > MCP Process Manager Server (Stdio Integration) > should list
 zero processes initially
[TEST][listEmpty] Starting test...
[TEST][listEmpty] Sending list_processes request...
[sendRequest] Sending request (ID req-list-empty-1): {"jsonrpc":"2.0","method":"tools/call","params":{"name"
:"list_processes","arguments":{"log_lines":0}},"id":"req-list-empty-1"}

stderr | tests/integration/mcp-server.test.ts > MCP Process Manager Server (Stdio Integration) > should list
 zero processes initially
[Server STDERR RAW]: [mcp-pm] INFO: Tool invoked: list_processes { params: { log_lines: 0 } }

[Server STDERR]: [mcp-pm] INFO: Tool invoked: list_processes { params: { log_lines: 0 } }
[sendRequest][Server STDERR during request req-list-empty-1]: [mcp-pm] INFO: Tool invoked: list_processes { 
params: { log_lines: 0 } }

stderr | tests/integration/mcp-server.test.ts > MCP Process Manager Server (Stdio Integration) > should list
 zero processes initially
[Server STDERR RAW]: [mcp-pm] INFO: Tool successful: list_processes { responseSummary: '[]...' }

[Server STDERR]: [mcp-pm] INFO: Tool successful: list_processes { responseSummary: '[]...' }
[sendRequest][Server STDERR during request req-list-empty-1]: [mcp-pm] INFO: Tool successful: list_processes
 { responseSummary: '[]...' }

stdout | tests/integration/mcp-server.test.ts > MCP Process Manager Server (Stdio Integration) > should list
 zero processes initially
[sendRequest] Received matching response for ID req-list-empty-1: {"result":{"content":[{"type":"text","text
":"[]"}]},"jsonrpc":"2.0","id":"req-list-empty-1"}

stdout | tests/integration/mcp-server.test.ts > MCP Process Manager Server (Stdio Integration) > should list
 zero processes initially
[TEST][listEmpty] Received response: {"result":{"content":[{"type":"text","text":"[]"}]},"jsonrpc":"2.0","id
":"req-list-empty-1"}
[TEST][listEmpty] Asserting response properties...
[TEST][listEmpty] Assertions passed. Test finished.

stdout | tests/integration/mcp-server.test.ts > MCP Process Manager Server (Stdio Integration) > should resp
ond successfully to health_check
[TEST][healthCheck] Starting test...
[TEST][healthCheck] Server process check passed.
[TEST][healthCheck] Sending health_check request...
[sendRequest] Sending request (ID req-health-1): {"jsonrpc":"2.0","method":"tools/call","params":{"name":"he
alth_check","arguments":{}},"id":"req-health-1"}

stderr | tests/integration/mcp-server.test.ts > MCP Process Manager Server (Stdio Integration) > should resp
ond successfully to health_check
[Server STDERR RAW]: [mcp-pm] INFO: Tool invoked: health_check { params: {} }

[Server STDERR]: [mcp-pm] INFO: Tool invoked: health_check { params: {} }
[sendRequest][Server STDERR during request req-health-1]: [mcp-pm] INFO: Tool invoked: health_check { params
: {} }

stderr | tests/integration/mcp-server.test.ts > MCP Process Manager Server (Stdio Integration) > should resp
ond successfully to health_check
[Server STDERR RAW]: [mcp-pm] INFO: Tool successful: health_check {
  responseSummary: '{"status":"ok","server_name":"mcp-pm","version":"0.0.0-placeholder","active_processes":0
,"zombie_che...'
}

[Server STDERR]: [mcp-pm] INFO: Tool successful: health_check {
  responseSummary: '{"status":"ok","server_name":"mcp-pm","version":"0.0.0-placeholder","active_processes":0
,"zombie_che...'
}
[sendRequest][Server STDERR during request req-health-1]: [mcp-pm] INFO: Tool successful: health_check {
  responseSummary: '{"status":"ok","server_name":"mcp-pm","version":"0.0.0-placeholder","active_processes":0
,"zombie_che...'
}

stdout | tests/integration/mcp-server.test.ts > MCP Process Manager Server (Stdio Integration) > should resp
ond successfully to health_check
[sendRequest] Received matching response for ID req-health-1: {"result":{"content":[{"type":"text","text":"{
\"status\":\"ok\",\"server_name\":\"mcp-pm\",\"version\":\"0.0.0-placeholder\",\"active_processes\":0,\"zomb
ie_check_active\":true}"}]},"jsonrpc":"2.0","id":"req-health-1"}

stdout | tests/integration/mcp-server.test.ts > MCP Process Manager Server (Stdio Integration) > should resp
ond successfully to health_check
[TEST][healthCheck] Received response: {"result":{"content":[{"type":"text","text":"{\"status\":\"ok\",\"ser
ver_name\":\"mcp-pm\",\"version\":\"0.0.0-placeholder\",\"active_processes\":0,\"zombie_check_active\":true}
"}]},"jsonrpc":"2.0","id":"req-health-1"}
[TEST][healthCheck] Asserting response properties...
[TEST][healthCheck] Asserting result properties...
[TEST][healthCheck] Assertions passed.
[TEST][healthCheck] Test finished.

stdout | tests/integration/mcp-server.test.ts > MCP Process Manager Server (Stdio Integration) > should star
t a simple process and receive confirmation
[TEST][startProcess] Starting test...
[TEST][startProcess] Server process check passed.
[TEST][startProcess] Generated label: test-process-1746028589103, CWD: /Users/johnlindquist/dev/mcp-dev-serv
er/tests/integration
[TEST][startProcess] Sending start request...
[sendRequest] Sending request (ID req-start-1): {"jsonrpc":"2.0","method":"tools/call","params":{"name":"sta
rt_process","arguments":{"command":"node","args":["-e","console.log('Node process started'); setTimeout(() =
> console.log('Node process finished'), 200);"],"workingDirectory":"/Users/johnlindquist/dev/mcp-dev-server/
tests/integration","label":"test-process-1746028589103"}},"id":"req-start-1"}

stderr | tests/integration/mcp-server.test.ts > MCP Process Manager Server (Stdio Integration) > should star
t a simple process and receive confirmation
[Server STDERR RAW]: [mcp-pm test-process-1746028589103] INFO: Determined label for start_process: test-proc
ess-1746028589103

[Server STDERR]: [mcp-pm test-process-1746028589103] INFO: Determined label for start_process: test-process-
1746028589103
[sendRequest][Server STDERR during request req-start-1]: [mcp-pm test-process-1746028589103] INFO: Determine
d label for start_process: test-process-1746028589103

stderr | tests/integration/mcp-server.test.ts > MCP Process Manager Server (Stdio Integration) > should star
t a simple process and receive confirmation
[Server STDERR RAW]: [mcp-pm test-process-1746028589103] INFO: Tool invoked: start_process {
  params: {
    label: 'test-process-1746028589103',
    command: 'node',
    args: [
      '-e',
      "console.log('Node process started'); setTimeout(() => console.log('Node process finished'), 200);"
    ],
    workingDirectory: '/Users/johnlindquist/dev/mcp-dev-server/tests/integration',
    verification_timeout_ms: -1
  }
}

[Server STDERR]: [mcp-pm test-process-1746028589103] INFO: Tool invoked: start_process {
  params: {
    label: 'test-process-1746028589103',
    command: 'node',
    args: [
      '-e',
      "console.log('Node process started'); setTimeout(() => console.log('Node process finished'), 200);"
    ],
    workingDirectory: '/Users/johnlindquist/dev/mcp-dev-server/tests/integration',
    verification_timeout_ms: -1
  }
}
[sendRequest][Server STDERR during request req-start-1]: [mcp-pm test-process-1746028589103] INFO: Tool invo
ked: start_process {
  params: {
    label: 'test-process-1746028589103',
    command: 'node',
    args: [
      '-e',
      "console.log('Node process started'); setTimeout(() => console.log('Node process finished'), 200);"
    ],
    workingDirectory: '/Users/johnlindquist/dev/mcp-dev-server/tests/integration',
    verification_timeout_ms: -1
  }
}

stderr | tests/integration/mcp-server.test.ts > MCP Process Manager Server (Stdio Integration) > should star
t a simple process and receive confirmation
[Server STDERR RAW]: [mcp-pm test-process-1746028589103] INFO: Starting process... Command: "node", Args: [-
e, console.log('Node process started'); setTimeout(() => console.log('Node process finished'), 200);], CWD:
"/Users/johnlindquist/dev/mcp-dev-server/tests/integration", isRestart: false

[Server STDERR]: [mcp-pm test-process-1746028589103] INFO: Starting process... Command: "node", Args: [-e, c
onsole.log('Node process started'); setTimeout(() => console.log('Node process finished'), 200);], CWD: "/Us
ers/johnlindquist/dev/mcp-dev-server/tests/integration", isRestart: false
[sendRequest][Server STDERR during request req-start-1]: [mcp-pm test-process-1746028589103] INFO: Starting 
process... Command: "node", Args: [-e, console.log('Node process started'); setTimeout(() => console.log('No
de process finished'), 200);], CWD: "/Users/johnlindquist/dev/mcp-dev-server/tests/integration", isRestart:
false

stderr | tests/integration/mcp-server.test.ts > MCP Process Manager Server (Stdio Integration) > should star
t a simple process and receive confirmation
[Server STDERR RAW]: [mcp-pm test-process-1746028589103] DEBUG: Verifying working directory: /Users/johnlind
quist/dev/mcp-dev-server/tests/integration

[Server STDERR]: [mcp-pm test-process-1746028589103] DEBUG: Verifying working directory: /Users/johnlindquis
t/dev/mcp-dev-server/tests/integration
[sendRequest][Server STDERR during request req-start-1]: [mcp-pm test-process-1746028589103] DEBUG: Verifyin
g working directory: /Users/johnlindquist/dev/mcp-dev-server/tests/integration

stderr | tests/integration/mcp-server.test.ts > MCP Process Manager Server (Stdio Integration) > should star
t a simple process and receive confirmation
[Server STDERR RAW]: [mcp-pm test-process-1746028589103] DEBUG: Working directory verified. 

[Server STDERR]: [mcp-pm test-process-1746028589103] DEBUG: Working directory verified.
[sendRequest][Server STDERR during request req-start-1]: [mcp-pm test-process-1746028589103] DEBUG: Working 
directory verified.

stderr | tests/integration/mcp-server.test.ts > MCP Process Manager Server (Stdio Integration) > should star
t a simple process and receive confirmation
[Server STDERR RAW]: [mcp-pm test-process-1746028589103] INFO: Logging process output to: /var/folders/c3/r0
13q3_93_s4zycmx0mdnt2h0000gn/T/mcp-pm-logs-77683/test-process-1746028589103.log.log (mode: a)

[Server STDERR]: [mcp-pm test-process-1746028589103] INFO: Logging process output to: /var/folders/c3/r013q3
_93_s4zycmx0mdnt2h0000gn/T/mcp-pm-logs-77683/test-process-1746028589103.log.log (mode: a)
[sendRequest][Server STDERR during request req-start-1]: [mcp-pm test-process-1746028589103] INFO: Logging p
rocess output to: /var/folders/c3/r013q3_93_s4zycmx0mdnt2h0000gn/T/mcp-pm-logs-77683/test-process-1746028589
103.log.log (mode: a)

stderr | tests/integration/mcp-server.test.ts > MCP Process Manager Server (Stdio Integration) > should star
t a simple process and receive confirmation
[Server STDERR RAW]: [mcp-pm test-process-1746028589103] INFO: Logging process output to: /var/folders/c3/r0
13q3_93_s4zycmx0mdnt2h0000gn/T/mcp-pm-logs-77683/test-process-1746028589103.log.log (mode: a)

[Server STDERR]: [mcp-pm test-process-1746028589103] INFO: Logging process output to: /var/folders/c3/r013q3
_93_s4zycmx0mdnt2h0000gn/T/mcp-pm-logs-77683/test-process-1746028589103.log.log (mode: a)
[sendRequest][Server STDERR during request req-start-1]: [mcp-pm test-process-1746028589103] INFO: Logging p
rocess output to: /var/folders/c3/r013q3_93_s4zycmx0mdnt2h0000gn/T/mcp-pm-logs-77683/test-process-1746028589
103.log.log (mode: a)

stderr | tests/integration/mcp-server.test.ts > MCP Process Manager Server (Stdio Integration) > should star
t a simple process and receive confirmation
[Server STDERR RAW]: [mcp-pm test-process-1746028589103] DEBUG: Attempting to spawn PTY with shell: /bin/zsh


[Server STDERR]: [mcp-pm test-process-1746028589103] DEBUG: Attempting to spawn PTY with shell: /bin/zsh
[sendRequest][Server STDERR during request req-start-1]: [mcp-pm test-process-1746028589103] DEBUG: Attempti
ng to spawn PTY with shell: /bin/zsh

stderr | tests/integration/mcp-server.test.ts > MCP Process Manager Server (Stdio Integration) > should star
t a simple process and receive confirmation
[Server STDERR RAW]: [mcp-pm test-process-1746028589103] DEBUG: PTY process spawned with PID: 77702 

[Server STDERR]: [mcp-pm test-process-1746028589103] DEBUG: PTY process spawned with PID: 77702
[sendRequest][Server STDERR during request req-start-1]: [mcp-pm test-process-1746028589103] DEBUG: PTY proc
ess spawned with PID: 77702

stderr | tests/integration/mcp-server.test.ts > MCP Process Manager Server (Stdio Integration) > should star
t a simple process and receive confirmation
[Server STDERR RAW]: [mcp-pm test-process-1746028589103] INFO: PTY process created successfully, PID: 77702 

[Server STDERR]: [mcp-pm test-process-1746028589103] INFO: PTY process created successfully, PID: 77702
[sendRequest][Server STDERR during request req-start-1]: [mcp-pm test-process-1746028589103] INFO: PTY proce
ss created successfully, PID: 77702

stderr | tests/integration/mcp-server.test.ts > MCP Process Manager Server (Stdio Integration) > should star
t a simple process and receive confirmation
[Server STDERR RAW]: [mcp-pm test-process-1746028589103] DEBUG: Writing command to PTY: node -e console.log(
'Node process started'); setTimeout(() => console.log('Node process finished'), 200);

[Server STDERR]: [mcp-pm test-process-1746028589103] DEBUG: Writing command to PTY: node -e console.log('Nod
e process started'); setTimeout(() => console.log('Node process finished'), 200);
[sendRequest][Server STDERR during request req-start-1]: [mcp-pm test-process-1746028589103] DEBUG: Writing 
command to PTY: node -e console.log('Node process started'); setTimeout(() => console.log('Node process fini
shed'), 200);

stderr | tests/integration/mcp-server.test.ts > MCP Process Manager Server (Stdio Integration) > should star
t a simple process and receive confirmation
[Server STDERR RAW]: [mcp-pm test-process-1746028589103] DEBUG: Wrote to PTY: 106 chars 
[mcp-pm test-process-1746028589103] DEBUG: Command written to PTY successfully. 
[mcp-pm test-process-1746028589103] INFO: No verification pattern provided. Marking as running. 
[mcp-pm test-process-1746028589103] INFO: Status changing from starting to running 

[Server STDERR]: [mcp-pm test-process-1746028589103] DEBUG: Wrote to PTY: 106 chars 
[mcp-pm test-process-1746028589103] DEBUG: Command written to PTY successfully. 
[mcp-pm test-process-1746028589103] INFO: No verification pattern provided. Marking as running. 
[mcp-pm test-process-1746028589103] INFO: Status changing from starting to running
[sendRequest][Server STDERR during request req-start-1]: [mcp-pm test-process-1746028589103] DEBUG: Wrote to
 PTY: 106 chars
[mcp-pm test-process-1746028589103] DEBUG: Command written to PTY successfully. 
[mcp-pm test-process-1746028589103] INFO: No verification pattern provided. Marking as running. 
[mcp-pm test-process-1746028589103] INFO: Status changing from starting to running

stderr | tests/integration/mcp-server.test.ts > MCP Process Manager Server (Stdio Integration) > should star
t a simple process and receive confirmation
[Server STDERR RAW]: [mcp-pm test-process-1746028589103] INFO: Process reached stable running state. 

[Server STDERR]: [mcp-pm test-process-1746028589103] INFO: Process reached stable running state.
[sendRequest][Server STDERR during request req-start-1]: [mcp-pm test-process-1746028589103] INFO: Process r
eached stable running state.

stderr | tests/integration/mcp-server.test.ts > MCP Process Manager Server (Stdio Integration) > should star
t a simple process and receive confirmation
[Server STDERR RAW]: [mcp-pm test-process-1746028589103] DEBUG: Waiting for logs to settle (Pause: 2000ms, T
imeout: 15000ms)...

[Server STDERR]: [mcp-pm test-process-1746028589103] DEBUG: Waiting for logs to settle (Pause: 2000ms, Timeo
ut: 15000ms)...
[sendRequest][Server STDERR during request req-start-1]: [mcp-pm test-process-1746028589103] DEBUG: Waiting 
for logs to settle (Pause: 2000ms, Timeout: 15000ms)...

stderr | tests/integration/mcp-server.test.ts > MCP Process Manager Server (Stdio Integration) > should star
t a simple process and receive confirmation
[Server STDERR RAW]: [mcp-pm test-process-1746028589103] DEBUG: Logs settled after 2000ms pause. 

[Server STDERR]: [mcp-pm test-process-1746028589103] DEBUG: Logs settled after 2000ms pause.
[sendRequest][Server STDERR during request req-start-1]: [mcp-pm test-process-1746028589103] DEBUG: Logs set
tled after 2000ms pause.

stderr | tests/integration/mcp-server.test.ts > MCP Process Manager Server (Stdio Integration) > should star
t a simple process and receive confirmation
[Server STDERR RAW]: [mcp-pm test-process-1746028589103] INFO: Final status after settling/wait: running 

[Server STDERR]: [mcp-pm test-process-1746028589103] INFO: Final status after settling/wait: running
[sendRequest][Server STDERR during request req-start-1]: [mcp-pm test-process-1746028589103] INFO: Final sta
tus after settling/wait: running

stderr | tests/integration/mcp-server.test.ts > MCP Process Manager Server (Stdio Integration) > should star
t a simple process and receive confirmation
[Server STDERR RAW]: [mcp-pm test-process-1746028589103] INFO: Returning result for start_process. Included 
94 log lines. Status: running.

[Server STDERR]: [mcp-pm test-process-1746028589103] INFO: Returning result for start_process. Included 94 l
og lines. Status: running.
[sendRequest][Server STDERR during request req-start-1]: [mcp-pm test-process-1746028589103] INFO: Returning
 result for start_process. Included 94 log lines. Status: running.

stderr | tests/integration/mcp-server.test.ts > MCP Process Manager Server (Stdio Integration) > should star
t a simple process and receive confirmation
[Server STDERR RAW]: [mcp-pm test-process-1746028589103] INFO: Tool successful: start_process {
  responseSummary: '{\n' +
    '  "label": "test-process-1746028589103",\n' +
    '  "message": "Process \\"test-process-1746028589103\\" star...'
}

[Server STDERR]: [mcp-pm test-process-1746028589103] INFO: Tool successful: start_process {
  responseSummary: '{\n' +
    '  "label": "test-process-1746028589103",\n' +
    '  "message": "Process \\"test-process-1746028589103\\" star...'
}
[sendRequest][Server STDERR during request req-start-1]: [mcp-pm test-process-1746028589103] INFO: Tool succ
essful: start_process {
  responseSummary: '{\n' +
    '  "label": "test-process-1746028589103",\n' +
    '  "message": "Process \\"test-process-1746028589103\\" star...'
}

stdout | tests/integration/mcp-server.test.ts > MCP Process Manager Server (Stdio Integration) > should star
t a simple process and receive confirmation
[sendRequest] Received matching response for ID req-start-1: {"result":{"content":[{"type":"text","text":"{\
n  \"label\": \"test-process-1746028589103\",\n  \"message\": \"Process \\\"test-process-1746028589103\\\" s
tarted with status: running.\",\n  \"status\": \"running\",\n  \"pid\": 77702,\n  \"command\": \"node\",\n
\"args\": [\n    \"-e\",\n    \"console.log('Node process started'); setTimeout(() => console.log('Node proc
ess finished'), 200);\"\n  ],\n  \"cwd\": \"/Users/johnlindquist/dev/mcp-dev-server/tests/integration\",\n
\"logs\": [\n    \"Process spawned successfully (PID: 77702) in /Users/johnlindquist/dev/mcp-dev-server/test
s/integration. Status: starting.\",\n    \"Status: running (no verification specified).\",\n    \"Status cha
nged to running\",\n    \"Process reached stable running state.\",\n    \"node -e console.log('Node process
started'); setTimeout(() => console.log('Node process finished'), 200);\",\n    \"%\",\n    \"ohnlindquist@j
ohns:~/dev/mcp-dev-server/tests/integration\",\n    \";..s/integration\",\n    \"➜  integration\",\n    \"n\
",\n    \"\\bnode -\",\n    \"e c\",\n    \"ons\",\n    \"ol\",\n    \"e\",\n    \".l\",\n    \"o\",\n    \"
g\",\n    \"(\",\n    \"'\",\n    \"No\",\n    \"d\",\n    \"e pr\",\n    \"o\",\n    \"c\",\n    \"es\",\n
   \"s\",\n    \"s\",\n    \"ta\",\n    \"r\",\n    \"t\",\n    \"ed'\",\n    \")\",\n    \";\",\n    \"s\",
\n    \"e\",\n    \"t\",\n    \"T\",\n    \"i\",\n    \"m\",\n    \"eo\",\n    \"u\",\n    \"t\",\n    \"(\"
,\n    \"(\",\n    \")\",\n    \"=\",\n    \">\",\n    \"c\",\n    \"o\",\n    \"n\",\n    \"s\",\n    \"so\
",\n    \"l\",\n    \"e\",\n    \".\",\n    \"l\",\n    \"o\",\n    \"g\",\n    \"(\",\n    \"'\",\n    \"N\
",\n    \"o\",\n    \"d\",\n    \"e\",\n    \"p\",\n    \"r\",\n    \"o\",\n    \"c\",\n    \"e\",\n    \"s\
",\n    \"s\",\n    \"f\",\n    \"i\",\n    \"n\",\n    \"i\",\n    \"s\",\n    \"h\",\n    \"e\",\n    \"d\
",\n    \"'\",\n    \")\",\n    \",\",\n    \"2\",\n    \"0\",\n    \"0\",\n    \")\",\n    \";\",\n    \"zs
h: parse error near `)'\",\n    \"%\",\n    \"ohnlindquist@johns:~/dev/mcp-dev-server/tests/integration\",\n
    \";..s/integration\",\n    \"➜  integration\",\n    \"➜  integration git:(add-pre-push-test)\"\n  ],\n
\"monitoring_hint\": \"If you requested to tail the 'test-process-1746028589103' process, please run this co
mmand in a separate background terminal: tail -f -n 10 \\\"/var/folders/c3/r013q3_93_s4zycmx0mdnt2h0000gn/T/
mcp-pm-logs-77683/test-process-1746028589103.log.log\\\". For status updates or recent inline logs, use chec
k_process_status('test-process-1746028589103').\",\n  \"log_file_path\": \"/var/folders/c3/r013q3_93_s4zycmx
0mdnt2h0000gn/T/mcp-pm-logs-77683/test-process-1746028589103.log.log\",\n  \"tail_command\": \"tail -f -n 10
 \\\"/var/folders/c3/r013q3_93_s4zycmx0mdnt2h0000gn/T/mcp-pm-logs-77683/test-process-1746028589103.log.log\\
\"\",\n  \"info_message\": \"Process started. Logs settled quickly.\",\n  \"exitCode\": null,\n  \"signal\":
 null\n}"}]},"jsonrpc":"2.0","id":"req-start-1"}

stdout | tests/integration/mcp-server.test.ts > MCP Process Manager Server (Stdio Integration) > should star
t a simple process and receive confirmation
[TEST][startProcess] Received response: {"result":{"content":[{"type":"text","text":"{\n  \"label\": \"test-
process-1746028589103\",\n  \"message\": \"Process \\\"test-process-1746028589103\\\" started with status: r
unning.\",\n  \"status\": \"running\",\n  \"pid\": 77702,\n  \"command\": \"node\",\n  \"args\": [\n    \"-e
\",\n    \"console.log('Node process started'); setTimeout(() => console.log('Node process finished'), 200);
\"\n  ],\n  \"cwd\": \"/Users/johnlindquist/dev/mcp-dev-server/tests/integration\",\n  \"logs\": [\n    \"Pr
ocess spawned successfully (PID: 77702) in /Users/johnlindquist/dev/mcp-dev-server/tests/integration. Status
: starting.\",\n    \"Status: running (no verification specified).\",\n    \"Status changed to running\",\n
   \"Process reached stable running state.\",\n    \"node -e console.log('Node process started'); setTimeout
(() => console.log('Node process finished'), 200);\",\n    \"%\",\n    \"ohnlindquist@johns:~/dev/mcp-dev-se
rver/tests/integration\",\n    \";..s/integration\",\n    \"➜  integration\",\n    \"n\",\n    \"\\bnode -\"
,\n    \"e c\",\n    \"ons\",\n    \"ol\",\n    \"e\",\n    \".l\",\n    \"o\",\n    \"g\",\n    \"(\",\n
 \"'\",\n    \"No\",\n    \"d\",\n    \"e pr\",\n    \"o\",\n    \"c\",\n    \"es\",\n    \"s\",\n    \"s\",
\n    \"ta\",\n    \"r\",\n    \"t\",\n    \"ed'\",\n    \")\",\n    \";\",\n    \"s\",\n    \"e\",\n    \"t
\",\n    \"T\",\n    \"i\",\n    \"m\",\n    \"eo\",\n    \"u\",\n    \"t\",\n    \"(\",\n    \"(\",\n    \"
)\",\n    \"=\",\n    \">\",\n    \"c\",\n    \"o\",\n    \"n\",\n    \"s\",\n    \"so\",\n    \"l\",\n    \
"e\",\n    \".\",\n    \"l\",\n    \"o\",\n    \"g\",\n    \"(\",\n    \"'\",\n    \"N\",\n    \"o\",\n    \
"d\",\n    \"e\",\n    \"p\",\n    \"r\",\n    \"o\",\n    \"c\",\n    \"e\",\n    \"s\",\n    \"s\",\n    \
"f\",\n    \"i\",\n    \"n\",\n    \"i\",\n    \"s\",\n    \"h\",\n    \"e\",\n    \"d\",\n    \"'\",\n    \
")\",\n    \",\",\n    \"2\",\n    \"0\",\n    \"0\",\n    \")\",\n    \";\",\n    \"zsh: parse error near `
)'\",\n    \"%\",\n    \"ohnlindquist@johns:~/dev/mcp-dev-server/tests/integration\",\n    \";..s/integratio
n\",\n    \"➜  integration\",\n    \"➜  integration git:(add-pre-push-test)\"\n  ],\n  \"monitoring_hint\":
\"If you requested to tail the 'test-process-1746028589103' process, please run this command in a separate b
ackground terminal: tail -f -n 10 \\\"/var/folders/c3/r013q3_93_s4zycmx0mdnt2h0000gn/T/mcp-pm-logs-77683/tes
t-process-1746028589103.log.log\\\". For status updates or recent inline logs, use check_process_status('tes
t-process-1746028589103').\",\n  \"log_file_path\": \"/var/folders/c3/r013q3_93_s4zycmx0mdnt2h0000gn/T/mcp-p
m-logs-77683/test-process-1746028589103.log.log\",\n  \"tail_command\": \"tail -f -n 10 \\\"/var/folders/c3/
r013q3_93_s4zycmx0mdnt2h0000gn/T/mcp-pm-logs-77683/test-process-1746028589103.log.log\\\"\",\n  \"info_messa
ge\": \"Process started. Logs settled quickly.\",\n  \"exitCode\": null,\n  \"signal\": null\n}"}]},"jsonrpc
":"2.0","id":"req-start-1"}
[TEST][startProcess] Asserting response properties...
[TEST][startProcess] Asserting result properties...
[TEST][startProcess] Assertions passed.
[TEST][startProcess] Waiting briefly...

stdout | tests/integration/mcp-server.test.ts > MCP Process Manager Server (Stdio Integration) > should star
t a simple process and receive confirmation
[TEST][stop] Sending stop_process request...
[sendRequest] Sending request (ID req-stop-test-process-1746028589103): {"jsonrpc":"2.0","method":"tools/cal
l","params":{"name":"stop_process","arguments":{"label":"test-process-1746028589103"}},"id":"req-stop-test-p
rocess-1746028589103"}

stderr | tests/integration/mcp-server.test.ts > MCP Process Manager Server (Stdio Integration) > should star
t a simple process and receive confirmation
[Server STDERR RAW]: [mcp-pm test-process-1746028589103] INFO: Tool invoked: stop_process { params: { label:
 'test-process-1746028589103', force: false } }

[Server STDERR]: [mcp-pm test-process-1746028589103] INFO: Tool invoked: stop_process { params: { label: 'te
st-process-1746028589103', force: false } }
[sendRequest][Server STDERR during request req-stop-test-process-1746028589103]: [mcp-pm test-process-174602
8589103] INFO: Tool invoked: stop_process { params: { label: 'test-process-1746028589103', force: false } } 
stderr | tests/integration/mcp-server.test.ts > MCP Process Manager Server (Stdio Integration) > should star
t a simple process and receive confirmation
[Server STDERR RAW]: [mcp-pm test-process-1746028589103] INFO: Stop requested for process "test-process-1746
028589103". Force: false

[Server STDERR]: [mcp-pm test-process-1746028589103] INFO: Stop requested for process "test-process-17460285
89103". Force: false
[sendRequest][Server STDERR during request req-stop-test-process-1746028589103]: [mcp-pm test-process-174602
8589103] INFO: Stop requested for process "test-process-1746028589103". Force: false

stderr | tests/integration/mcp-server.test.ts > MCP Process Manager Server (Stdio Integration) > should star
t a simple process and receive confirmation
[Server STDERR RAW]: [mcp-pm test-process-1746028589103] INFO: Status changing from running to stopping 

[Server STDERR]: [mcp-pm test-process-1746028589103] INFO: Status changing from running to stopping
[sendRequest][Server STDERR during request req-stop-test-process-1746028589103]: [mcp-pm test-process-174602
8589103] INFO: Status changing from running to stopping

stderr | tests/integration/mcp-server.test.ts > MCP Process Manager Server (Stdio Integration) > should star
t a simple process and receive confirmation
[Server STDERR RAW]: [mcp-pm test-process-1746028589103] INFO: Attempting graceful shutdown. Sending SIGTERM
 to PID 77702...

[Server STDERR]: [mcp-pm test-process-1746028589103] INFO: Attempting graceful shutdown. Sending SIGTERM to 
PID 77702...
[sendRequest][Server STDERR during request req-stop-test-process-1746028589103]: [mcp-pm test-process-174602
8589103] INFO: Attempting graceful shutdown. Sending SIGTERM to PID 77702...

stderr | tests/integration/mcp-server.test.ts > MCP Process Manager Server (Stdio Integration) > should star
t a simple process and receive confirmation
[Server STDERR RAW]: [mcp-pm test-process-1746028589103] DEBUG: fkill sent (SIGTERM) to 77702 

[Server STDERR]: [mcp-pm test-process-1746028589103] DEBUG: fkill sent (SIGTERM) to 77702
[sendRequest][Server STDERR during request req-stop-test-process-1746028589103]: [mcp-pm test-process-174602
8589103] DEBUG: fkill sent (SIGTERM) to 77702

stderr | tests/integration/mcp-server.test.ts > MCP Process Manager Server (Stdio Integration) > should star
t a simple process and receive confirmation
[Server STDERR RAW]: [mcp-pm test-process-1746028589103] DEBUG: Waiting 3000ms for graceful shutdown... 

[Server STDERR]: [mcp-pm test-process-1746028589103] DEBUG: Waiting 3000ms for graceful shutdown...
[sendRequest][Server STDERR during request req-stop-test-process-1746028589103]: [mcp-pm test-process-174602
8589103] DEBUG: Waiting 3000ms for graceful shutdown...

stderr | tests/integration/mcp-server.test.ts > MCP Process Manager Server (Stdio Integration) > should star
t a simple process and receive confirmation
[Server STDERR RAW]: [mcp-pm test-process-1746028589103] WARN: Process did not terminate after SIGTERM and w
ait. Sending SIGKILL to PID 77702...

[Server STDERR]: [mcp-pm test-process-1746028589103] WARN: Process did not terminate after SIGTERM and wait.
 Sending SIGKILL to PID 77702...
[sendRequest][Server STDERR during request req-stop-test-process-1746028589103]: [mcp-pm test-process-174602
8589103] WARN: Process did not terminate after SIGTERM and wait. Sending SIGKILL to PID 77702...

stderr | tests/integration/mcp-server.test.ts > MCP Process Manager Server (Stdio Integration) > should star
t a simple process and receive confirmation
[Server STDERR RAW]: [mcp-pm test-process-1746028589103] DEBUG: fkill sent (SIGKILL) to 77702 

[Server STDERR]: [mcp-pm test-process-1746028589103] DEBUG: fkill sent (SIGKILL) to 77702
[sendRequest][Server STDERR during request req-stop-test-process-1746028589103]: [mcp-pm test-process-174602
8589103] DEBUG: fkill sent (SIGKILL) to 77702

stderr | tests/integration/mcp-server.test.ts > MCP Process Manager Server (Stdio Integration) > should star
t a simple process and receive confirmation
[Server STDERR RAW]: [mcp-pm test-process-1746028589103] INFO: Tool successful: stop_process {
  responseSummary: '{"label":"test-process-1746028589103","status":"stopping","message":"Graceful stop attem
pted (SIGTER...'
}

[Server STDERR]: [mcp-pm test-process-1746028589103] INFO: Tool successful: stop_process {
  responseSummary: '{"label":"test-process-1746028589103","status":"stopping","message":"Graceful stop attem
pted (SIGTER...'
}
[sendRequest][Server STDERR during request req-stop-test-process-1746028589103]: [mcp-pm test-process-174602
8589103] INFO: Tool successful: stop_process {
  responseSummary: '{"label":"test-process-1746028589103","status":"stopping","message":"Graceful stop attem
pted (SIGTER...'
}

stdout | tests/integration/mcp-server.test.ts > MCP Process Manager Server (Stdio Integration) > should star
t a simple process and receive confirmation
[sendRequest] Received matching response for ID req-stop-test-process-1746028589103: {"result":{"content":[{
"type":"text","text":"{\"label\":\"test-process-1746028589103\",\"status\":\"stopping\",\"message\":\"Gracef
ul stop attempted (SIGTERM), but process unresponsive. SIGKILL sent to PID 77702.\",\"pid\":77702}"}]},"json
rpc":"2.0","id":"req-stop-test-process-1746028589103"}

stdout | tests/integration/mcp-server.test.ts > MCP Process Manager Server (Stdio Integration) > should star
t a simple process and receive confirmation
[TEST][stop] Received stop response: {"result":{"content":[{"type":"text","text":"{\"label\":\"test-process-
1746028589103\",\"status\":\"stopping\",\"message\":\"Graceful stop attempted (SIGTERM), but process unrespo
nsive. SIGKILL sent to PID 77702.\",\"pid\":77702}"}]},"jsonrpc":"2.0","id":"req-stop-test-process-174602858
9103"}
[TEST][startProcess] Test finished.

stdout | tests/integration/mcp-server.test.ts > MCP Process Manager Server (Stdio Integration) > should list
 one running process after starting it
[TEST][listOne] Starting test...
[TEST][listOne] Starting process test-list-1746028595177...
[sendRequest] Sending request (ID req-start-for-list-1): {"jsonrpc":"2.0","method":"tools/call","params":{"n
ame":"start_process","arguments":{"command":"node","args":["-e","console.log('Process for listing test'); se
tInterval(() => {}, 1000);"],"workingDirectory":"/Users/johnlindquist/dev/mcp-dev-server/tests/integration",
"label":"test-list-1746028595177"}},"id":"req-start-for-list-1"}

stderr | tests/integration/mcp-server.test.ts > MCP Process Manager Server (Stdio Integration) > should list
 one running process after starting it
[Server STDERR RAW]: [mcp-pm test-process-1746028589103] DEBUG: Main onExit handler triggered. { exitCode: 0
, signal: 9 }
[mcp-pm test-process-1746028589103] INFO: [ExitHandler] Process exited. Code: 0, Signal: 9 
[mcp-pm test-process-1746028589103] DEBUG: Closing log file stream for test-process-1746028589103 due to exi
t.
[mcp-pm test-process-1746028589103] INFO: Status changing from stopping to stopped 
[mcp-pm test-process-1746028589103] DEBUG: Log file stream for test-process-1746028589103 finished writing a
nd closed.

[Server STDERR]: [mcp-pm test-process-1746028589103] DEBUG: Main onExit handler triggered. { exitCode: 0, si
gnal: 9 }
[mcp-pm test-process-1746028589103] INFO: [ExitHandler] Process exited. Code: 0, Signal: 9 
[mcp-pm test-process-1746028589103] DEBUG: Closing log file stream for test-process-1746028589103 due to exi
t.
[mcp-pm test-process-1746028589103] INFO: Status changing from stopping to stopped 
[mcp-pm test-process-1746028589103] DEBUG: Log file stream for test-process-1746028589103 finished writing a
nd closed.
[sendRequest][Server STDERR during request req-start-for-list-1]: [mcp-pm test-process-1746028589103] DEBUG:
 Main onExit handler triggered. { exitCode: 0, signal: 9 }
[mcp-pm test-process-1746028589103] INFO: [ExitHandler] Process exited. Code: 0, Signal: 9 
[mcp-pm test-process-1746028589103] DEBUG: Closing log file stream for test-process-1746028589103 due to exi
t.
[mcp-pm test-process-1746028589103] INFO: Status changing from stopping to stopped 
[mcp-pm test-process-1746028589103] DEBUG: Log file stream for test-process-1746028589103 finished writing a
nd closed.

stderr | tests/integration/mcp-server.test.ts > MCP Process Manager Server (Stdio Integration) > should list
 one running process after starting it
[Server STDERR RAW]: [mcp-pm test-list-1746028595177] INFO: Determined label for start_process: test-list-17
46028595177

[Server STDERR]: [mcp-pm test-list-1746028595177] INFO: Determined label for start_process: test-list-174602
8595177
[sendRequest][Server STDERR during request req-start-for-list-1]: [mcp-pm test-list-1746028595177] INFO: Det
ermined label for start_process: test-list-1746028595177

stderr | tests/integration/mcp-server.test.ts > MCP Process Manager Server (Stdio Integration) > should list
 one running process after starting it
[Server STDERR RAW]: [mcp-pm test-list-1746028595177] INFO: Tool invoked: start_process {
  params: {
    label: 'test-list-1746028595177',
    command: 'node',
    args: [
      '-e',
      "console.log('Process for listing test'); setInterval(() => {}, 1000);"
    ],
    workingDirectory: '/Users/johnlindquist/dev/mcp-dev-server/tests/integration',
    verification_timeout_ms: -1
  }
}
[mcp-pm test-list-1746028595177] INFO: Starting process... Command: "node", Args: [-e, console.log('Process 
for listing test'); setInterval(() => {}, 1000);], CWD: "/Users/johnlindquist/dev/mcp-dev-server/tests/integ
ration", isRestart: false

[Server STDERR]: [mcp-pm test-list-1746028595177] INFO: Tool invoked: start_process {
  params: {
    label: 'test-list-1746028595177',
    command: 'node',
    args: [
      '-e',
      "console.log('Process for listing test'); setInterval(() => {}, 1000);"
    ],
    workingDirectory: '/Users/johnlindquist/dev/mcp-dev-server/tests/integration',
    verification_timeout_ms: -1
  }
}
[mcp-pm test-list-1746028595177] INFO: Starting process... Command: "node", Args: [-e, console.log('Process 
for listing test'); setInterval(() => {}, 1000);], CWD: "/Users/johnlindquist/dev/mcp-dev-server/tests/integ
ration", isRestart: false
[sendRequest][Server STDERR during request req-start-for-list-1]: [mcp-pm test-list-1746028595177] INFO: Too
l invoked: start_process {
  params: {
    label: 'test-list-1746028595177',
    command: 'node',
    args: [
      '-e',
      "console.log('Process for listing test'); setInterval(() => {}, 1000);"
    ],
    workingDirectory: '/Users/johnlindquist/dev/mcp-dev-server/tests/integration',
    verification_timeout_ms: -1
  }
}
[mcp-pm test-list-1746028595177] INFO: Starting process... Command: "node", Args: [-e, console.log('Process 
for listing test'); setInterval(() => {}, 1000);], CWD: "/Users/johnlindquist/dev/mcp-dev-server/tests/integ
ration", isRestart: false

stderr | tests/integration/mcp-server.test.ts > MCP Process Manager Server (Stdio Integration) > should list
 one running process after starting it
[Server STDERR RAW]: [mcp-pm test-list-1746028595177] DEBUG: Verifying working directory: /Users/johnlindqui
st/dev/mcp-dev-server/tests/integration
[mcp-pm test-list-1746028595177] DEBUG: Working directory verified. 

[Server STDERR]: [mcp-pm test-list-1746028595177] DEBUG: Verifying working directory: /Users/johnlindquist/d
ev/mcp-dev-server/tests/integration
[mcp-pm test-list-1746028595177] DEBUG: Working directory verified.
[sendRequest][Server STDERR during request req-start-for-list-1]: [mcp-pm test-list-1746028595177] DEBUG: Ve
rifying working directory: /Users/johnlindquist/dev/mcp-dev-server/tests/integration
[mcp-pm test-list-1746028595177] DEBUG: Working directory verified.

stderr | tests/integration/mcp-server.test.ts > MCP Process Manager Server (Stdio Integration) > should list
 one running process after starting it
[Server STDERR RAW]: [mcp-pm test-list-1746028595177] INFO: Logging process output to: /var/folders/c3/r013q
3_93_s4zycmx0mdnt2h0000gn/T/mcp-pm-logs-77683/test-list-1746028595177.log.log (mode: a)
[mcp-pm test-list-1746028595177] INFO: Logging process output to: /var/folders/c3/r013q3_93_s4zycmx0mdnt2h00
00gn/T/mcp-pm-logs-77683/test-list-1746028595177.log.log (mode: a)

[Server STDERR]: [mcp-pm test-list-1746028595177] INFO: Logging process output to: /var/folders/c3/r013q3_93
_s4zycmx0mdnt2h0000gn/T/mcp-pm-logs-77683/test-list-1746028595177.log.log (mode: a)
[mcp-pm test-list-1746028595177] INFO: Logging process output to: /var/folders/c3/r013q3_93_s4zycmx0mdnt2h00
00gn/T/mcp-pm-logs-77683/test-list-1746028595177.log.log (mode: a)
[sendRequest][Server STDERR during request req-start-for-list-1]: [mcp-pm test-list-1746028595177] INFO: Log
ging process output to: /var/folders/c3/r013q3_93_s4zycmx0mdnt2h0000gn/T/mcp-pm-logs-77683/test-list-1746028
595177.log.log (mode: a)
[mcp-pm test-list-1746028595177] INFO: Logging process output to: /var/folders/c3/r013q3_93_s4zycmx0mdnt2h00
00gn/T/mcp-pm-logs-77683/test-list-1746028595177.log.log (mode: a)

stderr | tests/integration/mcp-server.test.ts > MCP Process Manager Server (Stdio Integration) > should list
 one running process after starting it
[Server STDERR RAW]: [mcp-pm test-list-1746028595177] DEBUG: Attempting to spawn PTY with shell: /bin/zsh 

[Server STDERR]: [mcp-pm test-list-1746028595177] DEBUG: Attempting to spawn PTY with shell: /bin/zsh
[sendRequest][Server STDERR during request req-start-for-list-1]: [mcp-pm test-list-1746028595177] DEBUG: At
tempting to spawn PTY with shell: /bin/zsh

stderr | tests/integration/mcp-server.test.ts > MCP Process Manager Server (Stdio Integration) > should list
 one running process after starting it
[Server STDERR RAW]: [mcp-pm test-list-1746028595177] DEBUG: PTY process spawned with PID: 78241 

[Server STDERR]: [mcp-pm test-list-1746028595177] DEBUG: PTY process spawned with PID: 78241
[sendRequest][Server STDERR during request req-start-for-list-1]: [mcp-pm test-list-1746028595177] DEBUG: PT
Y process spawned with PID: 78241

stderr | tests/integration/mcp-server.test.ts > MCP Process Manager Server (Stdio Integration) > should list
 one running process after starting it
[Server STDERR RAW]: [mcp-pm test-list-1746028595177] INFO: PTY process created successfully, PID: 78241 
[mcp-pm test-list-1746028595177] DEBUG: Writing command to PTY: node -e console.log('Process for listing tes
t'); setInterval(() => {}, 1000);

[Server STDERR]: [mcp-pm test-list-1746028595177] INFO: PTY process created successfully, PID: 78241 
[mcp-pm test-list-1746028595177] DEBUG: Writing command to PTY: node -e console.log('Process for listing tes
t'); setInterval(() => {}, 1000);
[sendRequest][Server STDERR during request req-start-for-list-1]: [mcp-pm test-list-1746028595177] INFO: PTY
 process created successfully, PID: 78241
[mcp-pm test-list-1746028595177] DEBUG: Writing command to PTY: node -e console.log('Process for listing tes
t'); setInterval(() => {}, 1000);

stderr | tests/integration/mcp-server.test.ts > MCP Process Manager Server (Stdio Integration) > should list
 one running process after starting it
[Server STDERR RAW]: [mcp-pm test-list-1746028595177] DEBUG: Wrote to PTY: 78 chars 
[mcp-pm test-list-1746028595177] DEBUG: Command written to PTY successfully. 
[mcp-pm test-list-1746028595177] INFO: No verification pattern provided. Marking as running. 
[mcp-pm test-list-1746028595177] INFO: Status changing from starting to running 
[mcp-pm test-list-1746028595177] INFO: Process reached stable running state. 

[Server STDERR]: [mcp-pm test-list-1746028595177] DEBUG: Wrote to PTY: 78 chars 
[mcp-pm test-list-1746028595177] DEBUG: Command written to PTY successfully. 
[mcp-pm test-list-1746028595177] INFO: No verification pattern provided. Marking as running. 
[mcp-pm test-list-1746028595177] INFO: Status changing from starting to running 
[mcp-pm test-list-1746028595177] INFO: Process reached stable running state.
[sendRequest][Server STDERR during request req-start-for-list-1]: [mcp-pm test-list-1746028595177] DEBUG: Wr
ote to PTY: 78 chars
[mcp-pm test-list-1746028595177] DEBUG: Command written to PTY successfully. 
[mcp-pm test-list-1746028595177] INFO: No verification pattern provided. Marking as running. 
[mcp-pm test-list-1746028595177] INFO: Status changing from starting to running 
[mcp-pm test-list-1746028595177] INFO: Process reached stable running state.

stderr | tests/integration/mcp-server.test.ts > MCP Process Manager Server (Stdio Integration) > should list
 one running process after starting it
[Server STDERR RAW]: [mcp-pm test-list-1746028595177] DEBUG: Waiting for logs to settle (Pause: 2000ms, Time
out: 15000ms)...

[Server STDERR]: [mcp-pm test-list-1746028595177] DEBUG: Waiting for logs to settle (Pause: 2000ms, Timeout:
 15000ms)...
[sendRequest][Server STDERR during request req-start-for-list-1]: [mcp-pm test-list-1746028595177] DEBUG: Wa
iting for logs to settle (Pause: 2000ms, Timeout: 15000ms)...

stderr | tests/integration/mcp-server.test.ts > MCP Process Manager Server (Stdio Integration) > should list
 one running process after starting it
[Server STDERR RAW]: [mcp-pm test-list-1746028595177] DEBUG: Logs settled after 2000ms pause. 

[Server STDERR]: [mcp-pm test-list-1746028595177] DEBUG: Logs settled after 2000ms pause.
[sendRequest][Server STDERR during request req-start-for-list-1]: [mcp-pm test-list-1746028595177] DEBUG: Lo
gs settled after 2000ms pause.

stderr | tests/integration/mcp-server.test.ts > MCP Process Manager Server (Stdio Integration) > should list
 one running process after starting it
[Server STDERR RAW]: [mcp-pm test-list-1746028595177] INFO: Final status after settling/wait: running 
[mcp-pm test-list-1746028595177] INFO: Returning result for start_process. Included 82 log lines. Status: ru
nning.

[Server STDERR]: [mcp-pm test-list-1746028595177] INFO: Final status after settling/wait: running 
[mcp-pm test-list-1746028595177] INFO: Returning result for start_process. Included 82 log lines. Status: ru
nning.
[sendRequest][Server STDERR during request req-start-for-list-1]: [mcp-pm test-list-1746028595177] INFO: Fin
al status after settling/wait: running
[mcp-pm test-list-1746028595177] INFO: Returning result for start_process. Included 82 log lines. Status: ru
nning.

stderr | tests/integration/mcp-server.test.ts > MCP Process Manager Server (Stdio Integration) > should list
 one running process after starting it
[Server STDERR RAW]: [mcp-pm test-list-1746028595177] INFO: Tool successful: start_process {
  responseSummary: '{\n' +
    '  "label": "test-list-1746028595177",\n' +
    '  "message": "Process \\"test-list-1746028595177\\" started wi...'
}

[Server STDERR]: [mcp-pm test-list-1746028595177] INFO: Tool successful: start_process {
  responseSummary: '{\n' +
    '  "label": "test-list-1746028595177",\n' +
    '  "message": "Process \\"test-list-1746028595177\\" started wi...'
}
[sendRequest][Server STDERR during request req-start-for-list-1]: [mcp-pm test-list-1746028595177] INFO: Too
l successful: start_process {
  responseSummary: '{\n' +
    '  "label": "test-list-1746028595177",\n' +
    '  "message": "Process \\"test-list-1746028595177\\" started wi...'
}

stdout | tests/integration/mcp-server.test.ts > MCP Process Manager Server (Stdio Integration) > should list
 one running process after starting it
[sendRequest] Received matching response for ID req-start-for-list-1: {"result":{"content":[{"type":"text","
text":"{\n  \"label\": \"test-list-1746028595177\",\n  \"message\": \"Process \\\"test-list-1746028595177\\\
" started with status: running.\",\n  \"status\": \"running\",\n  \"pid\": 78241,\n  \"command\": \"node\",\
n  \"args\": [\n    \"-e\",\n    \"console.log('Process for listing test'); setInterval(() => {}, 1000);\"\n
  ],\n  \"cwd\": \"/Users/johnlindquist/dev/mcp-dev-server/tests/integration\",\n  \"logs\": [\n    \"Proces
s spawned successfully (PID: 78241) in /Users/johnlindquist/dev/mcp-dev-server/tests/integration. Status: st
arting.\",\n    \"Status: running (no verification specified).\",\n    \"Status changed to running\",\n    \
"Process reached stable running state.\",\n    \"node -e console.log('Process for listing test'); setInterva
l(() => {}, 1000);\",\n    \"%\",\n    \"ohnlindquist@johns:~/dev/mcp-dev-server/tests/integration;..s/integ
ration\",\n    \"➜  integration\",\n    \"n\",\n    \"\\bno\",\n    \"d\",\n    \"e\",\n    \"-\",\n    \"e\
",\n    \"c\",\n    \"o\",\n    \"ns\",\n    \"o\",\n    \"l\",\n    \"e\",\n    \".\",\n    \"l\",\n    \"o
\",\n    \"g\",\n    \"(\",\n    \"'\",\n    \"P\",\n    \"r\",\n    \"o\",\n    \"c\",\n    \"e\",\n    \"s
\",\n    \"s\",\n    \"f\",\n    \"o\",\n    \"r\",\n    \"l\",\n    \"i\",\n    \"s\",\n    \"t\",\n    \"i
\",\n    \"n\",\n    \"g\",\n    \"t\",\n    \"e\",\n    \"s\",\n    \"t\",\n    \"'\",\n    \")\",\n    \";
\",\n    \"s\",\n    \"e\",\n    \"t\",\n    \"I\",\n    \"n\",\n    \"t\",\n    \"e\",\n    \"r\",\n    \"v
\",\n    \"a\",\n    \"l\",\n    \"(\",\n    \"(\",\n    \")\",\n    \"=\",\n    \">\",\n    \">\",\n    \"{
\",\n    \"}\",\n    \",\",\n    \"1\",\n    \"0\",\n    \"0\",\n    \"0\",\n    \")\",\n    \";\",\n    \"z
sh: parse error near `)'\",\n    \"%\",\n    \"ohnlindquist@johns:~/dev/mcp-dev-server/tests/integration\",\
n    \";..s/integration\",\n    \"➜  integration\",\n    \"➜  integration git:(add-pre-push-test)\"\n  ],\n
 \"monitoring_hint\": \"If you requested to tail the 'test-list-1746028595177' process, please run this comm
and in a separate background terminal: tail -f -n 10 \\\"/var/folders/c3/r013q3_93_s4zycmx0mdnt2h0000gn/T/mc
p-pm-logs-77683/test-list-1746028595177.log.log\\\". For status updates or recent inline logs, use check_pro
cess_status('test-list-1746028595177').\",\n  \"log_file_path\": \"/var/folders/c3/r013q3_93_s4zycmx0mdnt2h0
000gn/T/mcp-pm-logs-77683/test-list-1746028595177.log.log\",\n  \"tail_command\": \"tail -f -n 10 \\\"/var/f
olders/c3/r013q3_93_s4zycmx0mdnt2h0000gn/T/mcp-pm-logs-77683/test-list-1746028595177.log.log\\\"\",\n  \"inf
o_message\": \"Process started. Logs settled quickly.\",\n  \"exitCode\": null,\n  \"signal\": null\n}"}]},"
jsonrpc":"2.0","id":"req-start-for-list-1"}

stdout | tests/integration/mcp-server.test.ts > MCP Process Manager Server (Stdio Integration) > should list
 one running process after starting it
[TEST][listOne] Process test-list-1746028595177 started.
[TEST][listOne] Sending list_processes request...
[sendRequest] Sending request (ID req-list-one-1): {"jsonrpc":"2.0","method":"tools/call","params":{"name":"
list_processes","arguments":{"log_lines":5}},"id":"req-list-one-1"}

stderr | tests/integration/mcp-server.test.ts > MCP Process Manager Server (Stdio Integration) > should list
 one running process after starting it
[Server STDERR RAW]: [mcp-pm] INFO: Tool invoked: list_processes { params: { log_lines: 5 } }

[Server STDERR]: [mcp-pm] INFO: Tool invoked: list_processes { params: { log_lines: 5 } }
[sendRequest][Server STDERR during request req-list-one-1]: [mcp-pm] INFO: Tool invoked: list_processes { pa
rams: { log_lines: 5 } }

stderr | tests/integration/mcp-server.test.ts > MCP Process Manager Server (Stdio Integration) > should list
 one running process after starting it
[Server STDERR RAW]: [mcp-pm] INFO: Tool successful: list_processes {
  responseSummary: '[\n' +
    '  {\n' +
    '    "label": "test-process-1746028589103",\n' +
    '    "status": "stopped",\n' +
    '    "pid": 77702,\n' +
    '    "com...'
}

[Server STDERR]: [mcp-pm] INFO: Tool successful: list_processes {
  responseSummary: '[\n' +
    '  {\n' +
    '    "label": "test-process-1746028589103",\n' +
    '    "status": "stopped",\n' +
    '    "pid": 77702,\n' +
    '    "com...'
}
[sendRequest][Server STDERR during request req-list-one-1]: [mcp-pm] INFO: Tool successful: list_processes {
  responseSummary: '[\n' +
    '  {\n' +
    '    "label": "test-process-1746028589103",\n' +
    '    "status": "stopped",\n' +
    '    "pid": 77702,\n' +
    '    "com...'
}

stdout | tests/integration/mcp-server.test.ts > MCP Process Manager Server (Stdio Integration) > should list
 one running process after starting it
[sendRequest] Received matching response for ID req-list-one-1: {"result":{"content":[{"type":"text","text":
"[\n  {\n    \"label\": \"test-process-1746028589103\",\n    \"status\": \"stopped\",\n    \"pid\": 77702,\n
    \"command\": \"node\",\n    \"args\": [\n      \"-e\",\n      \"console.log('Node process started'); set
Timeout(() => console.log('Node process finished'), 200);\"\n    ],\n    \"cwd\": \"/Users/johnlindquist/dev
/mcp-dev-server/tests/integration\",\n    \"exitCode\": 0,\n    \"signal\": \"9\",\n    \"logs\": [\n      \
"Status changed to stopping\",\n      \"Sending SIGTERM...\",\n      \"Process unresponsive to SIGTERM, send
ing SIGKILL...\",\n      \"--- Process Exited (Code: 0, Signal: 9) ---\",\n      \"Status changed to stopped
\"\n    ],\n    \"log_hint\": \"Showing 5 lines. 101 older stored.\",\n    \"log_file_path\": \"/var/folders
/c3/r013q3_93_s4zycmx0mdnt2h0000gn/T/mcp-pm-logs-77683/test-process-1746028589103.log.log\",\n    \"tail_com
mand\": \"tail -f \\\"/var/folders/c3/r013q3_93_s4zycmx0mdnt2h0000gn/T/mcp-pm-logs-77683/test-process-174602
8589103.log.log\\\"\"\n  },\n  {\n    \"label\": \"test-list-1746028595177\",\n    \"status\": \"running\",\
n    \"pid\": 78241,\n    \"command\": \"node\",\n    \"args\": [\n      \"-e\",\n      \"console.log('Proce
ss for listing test'); setInterval(() => {}, 1000);\"\n    ],\n    \"cwd\": \"/Users/johnlindquist/dev/mcp-d
ev-server/tests/integration\",\n    \"exitCode\": null,\n    \"signal\": null,\n    \"logs\": [\n      \"➜
integration\",\n      \"➜  integration git:(add-pre-push-test)\"\n    ],\n    \"log_hint\": \"Showing 2 line
s. 89 older stored.\",\n    \"log_file_path\": \"/var/folders/c3/r013q3_93_s4zycmx0mdnt2h0000gn/T/mcp-pm-log
s-77683/test-list-1746028595177.log.log\",\n    \"tail_command\": \"tail -f \\\"/var/folders/c3/r013q3_93_s4
zycmx0mdnt2h0000gn/T/mcp-pm-logs-77683/test-list-1746028595177.log.log\\\"\"\n  }\n]"}]},"jsonrpc":"2.0","id
":"req-list-one-1"}

stdout | tests/integration/mcp-server.test.ts > MCP Process Manager Server (Stdio Integration) > should list
 one running process after starting it
[TEST][listOne] Received response: {"result":{"content":[{"type":"text","text":"[\n  {\n    \"label\": \"tes
t-process-1746028589103\",\n    \"status\": \"stopped\",\n    \"pid\": 77702,\n    \"command\": \"node\",\n
   \"args\": [\n      \"-e\",\n      \"console.log('Node process started'); setTimeout(() => console.log('No
de process finished'), 200);\"\n    ],\n    \"cwd\": \"/Users/johnlindquist/dev/mcp-dev-server/tests/integra
tion\",\n    \"exitCode\": 0,\n    \"signal\": \"9\",\n    \"logs\": [\n      \"Status changed to stopping\"
,\n      \"Sending SIGTERM...\",\n      \"Process unresponsive to SIGTERM, sending SIGKILL...\",\n      \"--
- Process Exited (Code: 0, Signal: 9) ---\",\n      \"Status changed to stopped\"\n    ],\n    \"log_hint\":
 \"Showing 5 lines. 101 older stored.\",\n    \"log_file_path\": \"/var/folders/c3/r013q3_93_s4zycmx0mdnt2h0
000gn/T/mcp-pm-logs-77683/test-process-1746028589103.log.log\",\n    \"tail_command\": \"tail -f \\\"/var/fo
lders/c3/r013q3_93_s4zycmx0mdnt2h0000gn/T/mcp-pm-logs-77683/test-process-1746028589103.log.log\\\"\"\n  },\n
  {\n    \"label\": \"test-list-1746028595177\",\n    \"status\": \"running\",\n    \"pid\": 78241,\n    \"c
ommand\": \"node\",\n    \"args\": [\n      \"-e\",\n      \"console.log('Process for listing test'); setInt
erval(() => {}, 1000);\"\n    ],\n    \"cwd\": \"/Users/johnlindquist/dev/mcp-dev-server/tests/integration\"
,\n    \"exitCode\": null,\n    \"signal\": null,\n    \"logs\": [\n      \"➜  integration\",\n      \"➜  in
tegration git:(add-pre-push-test)\"\n    ],\n    \"log_hint\": \"Showing 2 lines. 89 older stored.\",\n    \
"log_file_path\": \"/var/folders/c3/r013q3_93_s4zycmx0mdnt2h0000gn/T/mcp-pm-logs-77683/test-list-17460285951
77.log.log\",\n    \"tail_command\": \"tail -f \\\"/var/folders/c3/r013q3_93_s4zycmx0mdnt2h0000gn/T/mcp-pm-l
ogs-77683/test-list-1746028595177.log.log\\\"\"\n  }\n]"}]},"jsonrpc":"2.0","id":"req-list-one-1"}
[TEST][listOne] Asserting response properties...
[TEST][listOne] Assertions passed.
[TEST][listOne] Sending stop request for cleanup (test-list-1746028595177)...
[sendRequest] Sending request (ID req-stop-cleanup-list-1): {"jsonrpc":"2.0","method":"tools/call","params":
{"name":"stop_process","arguments":{"label":"test-list-1746028595177"}},"id":"req-stop-cleanup-list-1"}

stderr | tests/integration/mcp-server.test.ts > MCP Process Manager Server (Stdio Integration) > should list
 one running process after starting it
[Server STDERR RAW]: [mcp-pm test-list-1746028595177] INFO: Tool invoked: stop_process { params: { label: 't
est-list-1746028595177', force: false } }

[Server STDERR]: [mcp-pm test-list-1746028595177] INFO: Tool invoked: stop_process { params: { label: 'test-
list-1746028595177', force: false } }
[sendRequest][Server STDERR during request req-stop-cleanup-list-1]: [mcp-pm test-list-1746028595177] INFO: 
Tool invoked: stop_process { params: { label: 'test-list-1746028595177', force: false } }

stderr | tests/integration/mcp-server.test.ts > MCP Process Manager Server (Stdio Integration) > should list
 one running process after starting it
[Server STDERR RAW]: [mcp-pm test-list-1746028595177] INFO: Stop requested for process "test-list-1746028595
177". Force: false
[mcp-pm test-list-1746028595177] INFO: Status changing from running to stopping 

[Server STDERR]: [mcp-pm test-list-1746028595177] INFO: Stop requested for process "test-list-1746028595177"
. Force: false
[mcp-pm test-list-1746028595177] INFO: Status changing from running to stopping
[sendRequest][Server STDERR during request req-stop-cleanup-list-1]: [mcp-pm test-list-1746028595177] INFO: 
Stop requested for process "test-list-1746028595177". Force: false
[mcp-pm test-list-1746028595177] INFO: Status changing from running to stopping

stderr | tests/integration/mcp-server.test.ts > MCP Process Manager Server (Stdio Integration) > should list
 one running process after starting it
[Server STDERR RAW]: [mcp-pm test-list-1746028595177] INFO: Attempting graceful shutdown. Sending SIGTERM to
 PID 78241...

[Server STDERR]: [mcp-pm test-list-1746028595177] INFO: Attempting graceful shutdown. Sending SIGTERM to PID
 78241...
[sendRequest][Server STDERR during request req-stop-cleanup-list-1]: [mcp-pm test-list-1746028595177] INFO: 
Attempting graceful shutdown. Sending SIGTERM to PID 78241...

stderr | tests/integration/mcp-server.test.ts > MCP Process Manager Server (Stdio Integration) > should list
 one running process after starting it
[Server STDERR RAW]: [mcp-pm test-list-1746028595177] DEBUG: fkill sent (SIGTERM) to 78241 

[Server STDERR]: [mcp-pm test-list-1746028595177] DEBUG: fkill sent (SIGTERM) to 78241
[sendRequest][Server STDERR during request req-stop-cleanup-list-1]: [mcp-pm test-list-1746028595177] DEBUG:
 fkill sent (SIGTERM) to 78241

stderr | tests/integration/mcp-server.test.ts > MCP Process Manager Server (Stdio Integration) > should list
 one running process after starting it
[Server STDERR RAW]: [mcp-pm test-list-1746028595177] DEBUG: Waiting 3000ms for graceful shutdown... 

[Server STDERR]: [mcp-pm test-list-1746028595177] DEBUG: Waiting 3000ms for graceful shutdown...
[sendRequest][Server STDERR during request req-stop-cleanup-list-1]: [mcp-pm test-list-1746028595177] DEBUG:
 Waiting 3000ms for graceful shutdown...

stderr | tests/integration/mcp-server.test.ts > MCP Process Manager Server (Stdio Integration) > should list
 one running process after starting it
[Server STDERR RAW]: [mcp-pm test-list-1746028595177] WARN: Process did not terminate after SIGTERM and wait
. Sending SIGKILL to PID 78241...

[Server STDERR]: [mcp-pm test-list-1746028595177] WARN: Process did not terminate after SIGTERM and wait. Se
nding SIGKILL to PID 78241...
[sendRequest][Server STDERR during request req-stop-cleanup-list-1]: [mcp-pm test-list-1746028595177] WARN: 
Process did not terminate after SIGTERM and wait. Sending SIGKILL to PID 78241...

stderr | tests/integration/mcp-server.test.ts > MCP Process Manager Server (Stdio Integration) > should list
 one running process after starting it
[Server STDERR RAW]: [mcp-pm test-list-1746028595177] DEBUG: fkill sent (SIGKILL) to 78241 

[Server STDERR]: [mcp-pm test-list-1746028595177] DEBUG: fkill sent (SIGKILL) to 78241
[sendRequest][Server STDERR during request req-stop-cleanup-list-1]: [mcp-pm test-list-1746028595177] DEBUG:
 fkill sent (SIGKILL) to 78241

stderr | tests/integration/mcp-server.test.ts > MCP Process Manager Server (Stdio Integration) > should list
 one running process after starting it
[Server STDERR RAW]: [mcp-pm test-list-1746028595177] INFO: Tool successful: stop_process {
  responseSummary: '{"label":"test-list-1746028595177","status":"stopping","message":"Graceful stop attempte
d (SIGTERM),...'
}

[Server STDERR]: [mcp-pm test-list-1746028595177] INFO: Tool successful: stop_process {
  responseSummary: '{"label":"test-list-1746028595177","status":"stopping","message":"Graceful stop attempte
d (SIGTERM),...'
}
[sendRequest][Server STDERR during request req-stop-cleanup-list-1]: [mcp-pm test-list-1746028595177] INFO: 
Tool successful: stop_process {
  responseSummary: '{"label":"test-list-1746028595177","status":"stopping","message":"Graceful stop attempte
d (SIGTERM),...'
}

stdout | tests/integration/mcp-server.test.ts > MCP Process Manager Server (Stdio Integration) > should list
 one running process after starting it
[sendRequest] Received matching response for ID req-stop-cleanup-list-1: {"result":{"content":[{"type":"text
","text":"{\"label\":\"test-list-1746028595177\",\"status\":\"stopping\",\"message\":\"Graceful stop attempt
ed (SIGTERM), but process unresponsive. SIGKILL sent to PID 78241.\",\"pid\":78241}"}]},"jsonrpc":"2.0","id"
:"req-stop-cleanup-list-1"}

stdout | tests/integration/mcp-server.test.ts > MCP Process Manager Server (Stdio Integration) > should list
 one running process after starting it
[TEST][listOne] Cleanup stop request sent. Test finished.

stdout | tests/integration/mcp-server.test.ts > MCP Process Manager Server (Stdio Integration) > should chec
k the status of a running process
[TEST][checkStatus] Starting test...
[TEST][checkStatus] Starting process test-check-1746028600612...
[sendRequest] Sending request (ID req-start-for-check-1): {"jsonrpc":"2.0","method":"tools/call","params":{"
name":"start_process","arguments":{"command":"node","args":["-e","console.log('Process for checking status')
; setInterval(() => {}, 1000);"],"workingDirectory":"/Users/johnlindquist/dev/mcp-dev-server/tests/integrati
on","label":"test-check-1746028600612"}},"id":"req-start-for-check-1"}

stderr | tests/integration/mcp-server.test.ts > MCP Process Manager Server (Stdio Integration) > should chec
k the status of a running process
[Server STDERR RAW]: [mcp-pm test-list-1746028595177] DEBUG: Main onExit handler triggered. { exitCode: 0, s
ignal: 9 }
[mcp-pm test-list-1746028595177] INFO: [ExitHandler] Process exited. Code: 0, Signal: 9 
[mcp-pm test-list-1746028595177] DEBUG: Closing log file stream for test-list-1746028595177 due to exit. 
[mcp-pm test-list-1746028595177] INFO: Status changing from stopping to stopped 
[mcp-pm test-list-1746028595177] DEBUG: Log file stream for test-list-1746028595177 finished writing and clo
sed.

[Server STDERR]: [mcp-pm test-list-1746028595177] DEBUG: Main onExit handler triggered. { exitCode: 0, signa
l: 9 }
[mcp-pm test-list-1746028595177] INFO: [ExitHandler] Process exited. Code: 0, Signal: 9 
[mcp-pm test-list-1746028595177] DEBUG: Closing log file stream for test-list-1746028595177 due to exit. 
[mcp-pm test-list-1746028595177] INFO: Status changing from stopping to stopped 
[mcp-pm test-list-1746028595177] DEBUG: Log file stream for test-list-1746028595177 finished writing and clo
sed.
[sendRequest][Server STDERR during request req-start-for-check-1]: [mcp-pm test-list-1746028595177] DEBUG: M
ain onExit handler triggered. { exitCode: 0, signal: 9 }
[mcp-pm test-list-1746028595177] INFO: [ExitHandler] Process exited. Code: 0, Signal: 9 
[mcp-pm test-list-1746028595177] DEBUG: Closing log file stream for test-list-1746028595177 due to exit. 
[mcp-pm test-list-1746028595177] INFO: Status changing from stopping to stopped 
[mcp-pm test-list-1746028595177] DEBUG: Log file stream for test-list-1746028595177 finished writing and clo
sed.

stderr | tests/integration/mcp-server.test.ts > MCP Process Manager Server (Stdio Integration) > should chec
k the status of a running process
[Server STDERR RAW]: [mcp-pm test-check-1746028600612] INFO: Determined label for start_process: test-check-
1746028600612

[Server STDERR]: [mcp-pm test-check-1746028600612] INFO: Determined label for start_process: test-check-1746
028600612
[sendRequest][Server STDERR during request req-start-for-check-1]: [mcp-pm test-check-1746028600612] INFO: D
etermined label for start_process: test-check-1746028600612

stderr | tests/integration/mcp-server.test.ts > MCP Process Manager Server (Stdio Integration) > should chec
k the status of a running process
[Server STDERR RAW]: [mcp-pm test-check-1746028600612] INFO: Tool invoked: start_process {
  params: {
    label: 'test-check-1746028600612',
    command: 'node',
    args: [
      '-e',
      "console.log('Process for checking status'); setInterval(() => {}, 1000);"
    ],
    workingDirectory: '/Users/johnlindquist/dev/mcp-dev-server/tests/integration',
    verification_timeout_ms: -1
  }
}

[Server STDERR]: [mcp-pm test-check-1746028600612] INFO: Tool invoked: start_process {
  params: {
    label: 'test-check-1746028600612',
    command: 'node',
    args: [
      '-e',
      "console.log('Process for checking status'); setInterval(() => {}, 1000);"
    ],
    workingDirectory: '/Users/johnlindquist/dev/mcp-dev-server/tests/integration',
    verification_timeout_ms: -1
  }
}
[sendRequest][Server STDERR during request req-start-for-check-1]: [mcp-pm test-check-1746028600612] INFO: T
ool invoked: start_process {
  params: {
    label: 'test-check-1746028600612',
    command: 'node',
    args: [
      '-e',
      "console.log('Process for checking status'); setInterval(() => {}, 1000);"
    ],
    workingDirectory: '/Users/johnlindquist/dev/mcp-dev-server/tests/integration',
    verification_timeout_ms: -1
  }
}

stderr | tests/integration/mcp-server.test.ts > MCP Process Manager Server (Stdio Integration) > should chec
k the status of a running process
[Server STDERR RAW]: [mcp-pm test-check-1746028600612] INFO: Starting process... Command: "node", Args: [-e,
 console.log('Process for checking status'); setInterval(() => {}, 1000);], CWD: "/Users/johnlindquist/dev/m
cp-dev-server/tests/integration", isRestart: false
[mcp-pm test-check-1746028600612] DEBUG: Verifying working directory: /Users/johnlindquist/dev/mcp-dev-serve
r/tests/integration
[mcp-pm test-check-1746028600612] DEBUG: Working directory verified. 
[mcp-pm test-check-1746028600612] INFO: Logging process output to: /var/folders/c3/r013q3_93_s4zycmx0mdnt2h0
000gn/T/mcp-pm-logs-77683/test-check-1746028600612.log.log (mode: a)

[Server STDERR]: [mcp-pm test-check-1746028600612] INFO: Starting process... Command: "node", Args: [-e, con
sole.log('Process for checking status'); setInterval(() => {}, 1000);], CWD: "/Users/johnlindquist/dev/mcp-d
ev-server/tests/integration", isRestart: false
[mcp-pm test-check-1746028600612] DEBUG: Verifying working directory: /Users/johnlindquist/dev/mcp-dev-serve
r/tests/integration
[mcp-pm test-check-1746028600612] DEBUG: Working directory verified. 
[mcp-pm test-check-1746028600612] INFO: Logging process output to: /var/folders/c3/r013q3_93_s4zycmx0mdnt2h0
000gn/T/mcp-pm-logs-77683/test-check-1746028600612.log.log (mode: a)
[sendRequest][Server STDERR during request req-start-for-check-1]: [mcp-pm test-check-1746028600612] INFO: S
tarting process... Command: "node", Args: [-e, console.log('Process for checking status'); setInterval(() =>
 {}, 1000);], CWD: "/Users/johnlindquist/dev/mcp-dev-server/tests/integration", isRestart: false
[mcp-pm test-check-1746028600612] DEBUG: Verifying working directory: /Users/johnlindquist/dev/mcp-dev-serve
r/tests/integration
[mcp-pm test-check-1746028600612] DEBUG: Working directory verified. 
[mcp-pm test-check-1746028600612] INFO: Logging process output to: /var/folders/c3/r013q3_93_s4zycmx0mdnt2h0
000gn/T/mcp-pm-logs-77683/test-check-1746028600612.log.log (mode: a)

stderr | tests/integration/mcp-server.test.ts > MCP Process Manager Server (Stdio Integration) > should chec
k the status of a running process
[Server STDERR RAW]: [mcp-pm test-check-1746028600612] INFO: Logging process output to: /var/folders/c3/r013
q3_93_s4zycmx0mdnt2h0000gn/T/mcp-pm-logs-77683/test-check-1746028600612.log.log (mode: a)
[mcp-pm test-check-1746028600612] DEBUG: Attempting to spawn PTY with shell: /bin/zsh 

[Server STDERR]: [mcp-pm test-check-1746028600612] INFO: Logging process output to: /var/folders/c3/r013q3_9
3_s4zycmx0mdnt2h0000gn/T/mcp-pm-logs-77683/test-check-1746028600612.log.log (mode: a)
[mcp-pm test-check-1746028600612] DEBUG: Attempting to spawn PTY with shell: /bin/zsh
[sendRequest][Server STDERR during request req-start-for-check-1]: [mcp-pm test-check-1746028600612] INFO: L
ogging process output to: /var/folders/c3/r013q3_93_s4zycmx0mdnt2h0000gn/T/mcp-pm-logs-77683/test-check-1746
028600612.log.log (mode: a)
[mcp-pm test-check-1746028600612] DEBUG: Attempting to spawn PTY with shell: /bin/zsh

stderr | tests/integration/mcp-server.test.ts > MCP Process Manager Server (Stdio Integration) > should chec
k the status of a running process
[Server STDERR RAW]: [mcp-pm test-check-1746028600612] DEBUG: PTY process spawned with PID: 78739 

[Server STDERR]: [mcp-pm test-check-1746028600612] DEBUG: PTY process spawned with PID: 78739
[sendRequest][Server STDERR during request req-start-for-check-1]: [mcp-pm test-check-1746028600612] DEBUG: 
PTY process spawned with PID: 78739

stderr | tests/integration/mcp-server.test.ts > MCP Process Manager Server (Stdio Integration) > should chec
k the status of a running process
[Server STDERR RAW]: [mcp-pm test-check-1746028600612] INFO: PTY process created successfully, PID: 78739 
[mcp-pm test-check-1746028600612] DEBUG: Writing command to PTY: node -e console.log('Process for checking s
tatus'); setInterval(() => {}, 1000);
[mcp-pm test-check-1746028600612] DEBUG: Wrote to PTY: 81 chars 
[mcp-pm test-check-1746028600612] DEBUG: Command written to PTY successfully. 

[Server STDERR]: [mcp-pm test-check-1746028600612] INFO: PTY process created successfully, PID: 78739 
[mcp-pm test-check-1746028600612] DEBUG: Writing command to PTY: node -e console.log('Process for checking s
tatus'); setInterval(() => {}, 1000);
[mcp-pm test-check-1746028600612] DEBUG: Wrote to PTY: 81 chars 
[mcp-pm test-check-1746028600612] DEBUG: Command written to PTY successfully.
[sendRequest][Server STDERR during request req-start-for-check-1]: [mcp-pm test-check-1746028600612] INFO: P
TY process created successfully, PID: 78739
[mcp-pm test-check-1746028600612] DEBUG: Writing command to PTY: node -e console.log('Process for checking s
tatus'); setInterval(() => {}, 1000);
[mcp-pm test-check-1746028600612] DEBUG: Wrote to PTY: 81 chars 
[mcp-pm test-check-1746028600612] DEBUG: Command written to PTY successfully.

stderr | tests/integration/mcp-server.test.ts > MCP Process Manager Server (Stdio Integration) > should chec
k the status of a running process
[Server STDERR RAW]: [mcp-pm test-check-1746028600612] INFO: No verification pattern provided. Marking as ru
nning.
[mcp-pm test-check-1746028600612] INFO: Status changing from starting to running 
[mcp-pm test-check-1746028600612] INFO: Process reached stable running state. 
[mcp-pm test-check-1746028600612] DEBUG: Waiting for logs to settle (Pause: 2000ms, Timeout: 15000ms)... 

[Server STDERR]: [mcp-pm test-check-1746028600612] INFO: No verification pattern provided. Marking as runnin
g.
[mcp-pm test-check-1746028600612] INFO: Status changing from starting to running 
[mcp-pm test-check-1746028600612] INFO: Process reached stable running state. 
[mcp-pm test-check-1746028600612] DEBUG: Waiting for logs to settle (Pause: 2000ms, Timeout: 15000ms)...
[sendRequest][Server STDERR during request req-start-for-check-1]: [mcp-pm test-check-1746028600612] INFO: N
o verification pattern provided. Marking as running.
[mcp-pm test-check-1746028600612] INFO: Status changing from starting to running 
[mcp-pm test-check-1746028600612] INFO: Process reached stable running state. 
[mcp-pm test-check-1746028600612] DEBUG: Waiting for logs to settle (Pause: 2000ms, Timeout: 15000ms)...

stderr | tests/integration/mcp-server.test.ts > MCP Process Manager Server (Stdio Integration) > should chec
k the status of a running process
[Server STDERR RAW]: [mcp-pm test-check-1746028600612] DEBUG: Logs settled after 2000ms pause. 

[Server STDERR]: [mcp-pm test-check-1746028600612] DEBUG: Logs settled after 2000ms pause.
[sendRequest][Server STDERR during request req-start-for-check-1]: [mcp-pm test-check-1746028600612] DEBUG: 
Logs settled after 2000ms pause.

stderr | tests/integration/mcp-server.test.ts > MCP Process Manager Server (Stdio Integration) > should chec
k the status of a running process
[Server STDERR RAW]: [mcp-pm test-check-1746028600612] INFO: Final status after settling/wait: running 

[Server STDERR]: [mcp-pm test-check-1746028600612] INFO: Final status after settling/wait: running
[sendRequest][Server STDERR during request req-start-for-check-1]: [mcp-pm test-check-1746028600612] INFO: F
inal status after settling/wait: running

stderr | tests/integration/mcp-server.test.ts > MCP Process Manager Server (Stdio Integration) > should chec
k the status of a running process
[Server STDERR RAW]: [mcp-pm test-check-1746028600612] INFO: Returning result for start_process. Included 84
 log lines. Status: running.

[Server STDERR]: [mcp-pm test-check-1746028600612] INFO: Returning result for start_process. Included 84 log
 lines. Status: running.
[sendRequest][Server STDERR during request req-start-for-check-1]: [mcp-pm test-check-1746028600612] INFO: R
eturning result for start_process. Included 84 log lines. Status: running.

stderr | tests/integration/mcp-server.test.ts > MCP Process Manager Server (Stdio Integration) > should chec
k the status of a running process
[Server STDERR RAW]: [mcp-pm test-check-1746028600612] INFO: Tool successful: start_process {
  responseSummary: '{\n' +
    '  "label": "test-check-1746028600612",\n' +
    '  "message": "Process \\"test-check-1746028600612\\" started ...'
}

[Server STDERR]: [mcp-pm test-check-1746028600612] INFO: Tool successful: start_process {
  responseSummary: '{\n' +
    '  "label": "test-check-1746028600612",\n' +
    '  "message": "Process \\"test-check-1746028600612\\" started ...'
}
[sendRequest][Server STDERR during request req-start-for-check-1]: [mcp-pm test-check-1746028600612] INFO: T
ool successful: start_process {
  responseSummary: '{\n' +
    '  "label": "test-check-1746028600612",\n' +
    '  "message": "Process \\"test-check-1746028600612\\" started ...'
}

stdout | tests/integration/mcp-server.test.ts > MCP Process Manager Server (Stdio Integration) > should chec
k the status of a running process
[sendRequest] Received matching response for ID req-start-for-check-1: {"result":{"content":[{"type":"text",
"text":"{\n  \"label\": \"test-check-1746028600612\",\n  \"message\": \"Process \\\"test-check-1746028600612
\\\" started with status: running.\",\n  \"status\": \"running\",\n  \"pid\": 78739,\n  \"command\": \"node\
",\n  \"args\": [\n    \"-e\",\n    \"console.log('Process for checking status'); setInterval(() => {}, 1000
);\"\n  ],\n  \"cwd\": \"/Users/johnlindquist/dev/mcp-dev-server/tests/integration\",\n  \"logs\": [\n    \"
Process spawned successfully (PID: 78739) in /Users/johnlindquist/dev/mcp-dev-server/tests/integration. Stat
us: starting.\",\n    \"Status: running (no verification specified).\",\n    \"Status changed to running\",\
n    \"Process reached stable running state.\",\n    \"node -e console.log('Process for checking status'); s
etInterval(() => {}, 1000);\",\n    \"%\",\n    \"ohnlindquist@johns:~/dev/mcp-dev-server/tests/integration;
..s/integration\",\n    \"➜  integration\",\n    \"n\",\n    \"\\bno\",\n    \"d\",\n    \"e\",\n    \"-\",\
n    \"e\",\n    \"c\",\n    \"o\",\n    \"ns\",\n    \"o\",\n    \"l\",\n    \"e\",\n    \".\",\n    \"l\",
\n    \"o\",\n    \"g\",\n    \"(\",\n    \"'\",\n    \"P\",\n    \"r\",\n    \"o\",\n    \"c\",\n    \"e\",
\n    \"s\",\n    \"s\",\n    \"f\",\n    \"o\",\n    \"r\",\n    \"c\",\n    \"h\",\n    \"e\",\n    \"c\",
\n    \"k\",\n    \"i\",\n    \"n\",\n    \"g\",\n    \"s\",\n    \"t\",\n    \"a\",\n    \"t\",\n    \"u\",
\n    \"s\",\n    \"'\",\n    \")\",\n    \";\",\n    \"s\",\n    \"e\",\n    \"t\",\n    \"I\",\n    \"n\",
\n    \"te\",\n    \"r\",\n    \"v\",\n    \"a\",\n    \"l\",\n    \"(\",\n    \"(\",\n    \")\",\n    \")\"
,\n    \"=\",\n    \">\",\n    \"{\",\n    \"}\",\n    \",\",\n    \"1\",\n    \"0\",\n    \"0\",\n    \"0\"
,\n    \")\",\n    \";\",\n    \"zsh: parse error near `)'\",\n    \"%\",\n    \"ohnlindquist@johns:~/dev/mc
p-dev-server/tests/integration\",\n    \";..s/integration\",\n    \"➜  integration\",\n    \"➜  integration
git:(add-pre-push-test)\"\n  ],\n  \"monitoring_hint\": \"If you requested to tail the 'test-check-174602860
0612' process, please run this command in a separate background terminal: tail -f -n 10 \\\"/var/folders/c3/
r013q3_93_s4zycmx0mdnt2h0000gn/T/mcp-pm-logs-77683/test-check-1746028600612.log.log\\\". For status updates
or recent inline logs, use check_process_status('test-check-1746028600612').\",\n  \"log_file_path\": \"/var
/folders/c3/r013q3_93_s4zycmx0mdnt2h0000gn/T/mcp-pm-logs-77683/test-check-1746028600612.log.log\",\n  \"tail
_command\": \"tail -f -n 10 \\\"/var/folders/c3/r013q3_93_s4zycmx0mdnt2h0000gn/T/mcp-pm-logs-77683/test-chec
k-1746028600612.log.log\\\"\",\n  \"info_message\": \"Process started. Logs settled quickly.\",\n  \"exitCod
e\": null,\n  \"signal\": null\n}"}]},"jsonrpc":"2.0","id":"req-start-for-check-1"}

stdout | tests/integration/mcp-server.test.ts > MCP Process Manager Server (Stdio Integration) > should chec
k the status of a running process
[TEST][checkStatus] Process test-check-1746028600612 started.
[TEST][checkStatus] Sending check_process_status request...
[sendRequest] Sending request (ID req-check-1): {"jsonrpc":"2.0","method":"tools/call","params":{"name":"che
ck_process_status","arguments":{"label":"test-check-1746028600612"}},"id":"req-check-1"}

stderr | tests/integration/mcp-server.test.ts > MCP Process Manager Server (Stdio Integration) > should chec
k the status of a running process
[Server STDERR RAW]: [mcp-pm test-check-1746028600612] INFO: Tool invoked: check_process_status { params: { 
label: 'test-check-1746028600612', log_lines: 20 } }

[Server STDERR]: [mcp-pm test-check-1746028600612] INFO: Tool invoked: check_process_status { params: { labe
l: 'test-check-1746028600612', log_lines: 20 } }
[sendRequest][Server STDERR during request req-check-1]: [mcp-pm test-check-1746028600612] INFO: Tool invoke
d: check_process_status { params: { label: 'test-check-1746028600612', log_lines: 20 } }

stderr | tests/integration/mcp-server.test.ts > MCP Process Manager Server (Stdio Integration) > should chec
k the status of a running process
[Server STDERR RAW]: [mcp-pm test-check-1746028600612] INFO: Tool successful: check_process_status {
  responseSummary: '{\n' +
    '  "label": "test-check-1746028600612",\n' +
    '  "status": "running",\n' +
    '  "pid": 78739,\n' +
    '  "command": "node",...'
}

[Server STDERR]: [mcp-pm test-check-1746028600612] INFO: Tool successful: check_process_status {
  responseSummary: '{\n' +
    '  "label": "test-check-1746028600612",\n' +
    '  "status": "running",\n' +
    '  "pid": 78739,\n' +
    '  "command": "node",...'
}
[sendRequest][Server STDERR during request req-check-1]: [mcp-pm test-check-1746028600612] INFO: Tool succes
sful: check_process_status {
  responseSummary: '{\n' +
    '  "label": "test-check-1746028600612",\n' +
    '  "status": "running",\n' +
    '  "pid": 78739,\n' +
    '  "command": "node",...'
}

stdout | tests/integration/mcp-server.test.ts > MCP Process Manager Server (Stdio Integration) > should chec
k the status of a running process
[sendRequest] Received matching response for ID req-check-1: {"result":{"content":[{"type":"text","text":"{\
n  \"label\": \"test-check-1746028600612\",\n  \"status\": \"running\",\n  \"pid\": 78739,\n  \"command\": \
"node\",\n  \"args\": [\n    \"-e\",\n    \"console.log('Process for checking status'); setInterval(() => {}
, 1000);\"\n  ],\n  \"cwd\": \"/Users/johnlindquist/dev/mcp-dev-server/tests/integration\",\n  \"exitCode\":
 null,\n  \"signal\": null,\n  \"logs\": [\n    \"{\",\n    \"}\",\n    \",\",\n    \"1\",\n    \"0\",\n
\"0\",\n    \"0\",\n    \")\",\n    \";\",\n    \"zsh: parse error near `)'\",\n    \"%\",\n    \"ohnlindqui
st@johns:~/dev/mcp-dev-server/tests/integration\",\n    \";..s/integration\",\n    \"➜  integration\",\n
\"➜  integration git:(add-pre-push-test)\"\n  ],\n  \"log_file_path\": \"/var/folders/c3/r013q3_93_s4zycmx0m
dnt2h0000gn/T/mcp-pm-logs-77683/test-check-1746028600612.log.log\",\n  \"tail_command\": \"tail -f \\\"/var/
folders/c3/r013q3_93_s4zycmx0mdnt2h0000gn/T/mcp-pm-logs-77683/test-check-1746028600612.log.log\\\"\",\n  \"h
int\": \"Returned latest 15 lines. 77 older lines stored.\"\n}"}]},"jsonrpc":"2.0","id":"req-check-1"}

stdout | tests/integration/mcp-server.test.ts > MCP Process Manager Server (Stdio Integration) > should chec
k the status of a running process
[TEST][checkStatus] Received response: {"result":{"content":[{"type":"text","text":"{\n  \"label\": \"test-c
heck-1746028600612\",\n  \"status\": \"running\",\n  \"pid\": 78739,\n  \"command\": \"node\",\n  \"args\":
[\n    \"-e\",\n    \"console.log('Process for checking status'); setInterval(() => {}, 1000);\"\n  ],\n  \"
cwd\": \"/Users/johnlindquist/dev/mcp-dev-server/tests/integration\",\n  \"exitCode\": null,\n  \"signal\":
null,\n  \"logs\": [\n    \"{\",\n    \"}\",\n    \",\",\n    \"1\",\n    \"0\",\n    \"0\",\n    \"0\",\n
  \")\",\n    \";\",\n    \"zsh: parse error near `)'\",\n    \"%\",\n    \"ohnlindquist@johns:~/dev/mcp-dev
-server/tests/integration\",\n    \";..s/integration\",\n    \"➜  integration\",\n    \"➜  integration git:(
add-pre-push-test)\"\n  ],\n  \"log_file_path\": \"/var/folders/c3/r013q3_93_s4zycmx0mdnt2h0000gn/T/mcp-pm-l
ogs-77683/test-check-1746028600612.log.log\",\n  \"tail_command\": \"tail -f \\\"/var/folders/c3/r013q3_93_s
4zycmx0mdnt2h0000gn/T/mcp-pm-logs-77683/test-check-1746028600612.log.log\\\"\",\n  \"hint\": \"Returned late
st 15 lines. 77 older lines stored.\"\n}"}]},"jsonrpc":"2.0","id":"req-check-1"}
[TEST][checkStatus] Asserting response properties...
[TEST][checkStatus] Asserting result properties...
[TEST][checkStatus] Assertions passed.
[TEST][checkStatus] Test finished.
[TEST][checkStatus] Sending stop request for cleanup (test-check-1746028600612)...
[sendRequest] Sending request (ID req-stop-cleanup-check-1): {"jsonrpc":"2.0","method":"tools/call","params"
:{"name":"stop_process","arguments":{"label":"test-check-1746028600612"}},"id":"req-stop-cleanup-check-1"}

stderr | tests/integration/mcp-server.test.ts > MCP Process Manager Server (Stdio Integration) > should chec
k the status of a running process
[Server STDERR RAW]: [mcp-pm test-check-1746028600612] INFO: Tool invoked: stop_process { params: { label: '
test-check-1746028600612', force: false } }
[mcp-pm test-check-1746028600612] INFO: Stop requested for process "test-check-1746028600612". Force: false 

[Server STDERR]: [mcp-pm test-check-1746028600612] INFO: Tool invoked: stop_process { params: { label: 'test
-check-1746028600612', force: false } }
[mcp-pm test-check-1746028600612] INFO: Stop requested for process "test-check-1746028600612". Force: false
[sendRequest][Server STDERR during request req-stop-cleanup-check-1]: [mcp-pm test-check-1746028600612] INFO
: Tool invoked: stop_process { params: { label: 'test-check-1746028600612', force: false } }
[mcp-pm test-check-1746028600612] INFO: Stop requested for process "test-check-1746028600612". Force: false

stderr | tests/integration/mcp-server.test.ts > MCP Process Manager Server (Stdio Integration) > should chec
k the status of a running process
[Server STDERR RAW]: [mcp-pm test-check-1746028600612] INFO: Status changing from running to stopping 
[mcp-pm test-check-1746028600612] INFO: Attempting graceful shutdown. Sending SIGTERM to PID 78739... 

[Server STDERR]: [mcp-pm test-check-1746028600612] INFO: Status changing from running to stopping 
[mcp-pm test-check-1746028600612] INFO: Attempting graceful shutdown. Sending SIGTERM to PID 78739...
[sendRequest][Server STDERR during request req-stop-cleanup-check-1]: [mcp-pm test-check-1746028600612] INFO
: Status changing from running to stopping
[mcp-pm test-check-1746028600612] INFO: Attempting graceful shutdown. Sending SIGTERM to PID 78739...

stderr | tests/integration/mcp-server.test.ts > MCP Process Manager Server (Stdio Integration) > should chec
k the status of a running process
[Server STDERR RAW]: [mcp-pm test-check-1746028600612] DEBUG: fkill sent (SIGTERM) to 78739 

[Server STDERR]: [mcp-pm test-check-1746028600612] DEBUG: fkill sent (SIGTERM) to 78739
[sendRequest][Server STDERR during request req-stop-cleanup-check-1]: [mcp-pm test-check-1746028600612] DEBU
G: fkill sent (SIGTERM) to 78739

stderr | tests/integration/mcp-server.test.ts > MCP Process Manager Server (Stdio Integration) > should chec
k the status of a running process
[Server STDERR RAW]: [mcp-pm test-check-1746028600612] DEBUG: Waiting 3000ms for graceful shutdown... 

[Server STDERR]: [mcp-pm test-check-1746028600612] DEBUG: Waiting 3000ms for graceful shutdown...
[sendRequest][Server STDERR during request req-stop-cleanup-check-1]: [mcp-pm test-check-1746028600612] DEBU
G: Waiting 3000ms for graceful shutdown...

stderr | tests/integration/mcp-server.test.ts > MCP Process Manager Server (Stdio Integration) > should chec
k the status of a running process
[Server STDERR RAW]: [mcp-pm test-check-1746028600612] WARN: Process did not terminate after SIGTERM and wai
t. Sending SIGKILL to PID 78739...

[Server STDERR]: [mcp-pm test-check-1746028600612] WARN: Process did not terminate after SIGTERM and wait. S
ending SIGKILL to PID 78739...
[sendRequest][Server STDERR during request req-stop-cleanup-check-1]: [mcp-pm test-check-1746028600612] WARN
: Process did not terminate after SIGTERM and wait. Sending SIGKILL to PID 78739...

stderr | tests/integration/mcp-server.test.ts > MCP Process Manager Server (Stdio Integration) > should chec
k the status of a running process
[Server STDERR RAW]: [mcp-pm test-check-1746028600612] DEBUG: fkill sent (SIGKILL) to 78739 

[Server STDERR]: [mcp-pm test-check-1746028600612] DEBUG: fkill sent (SIGKILL) to 78739
[sendRequest][Server STDERR during request req-stop-cleanup-check-1]: [mcp-pm test-check-1746028600612] DEBU
G: fkill sent (SIGKILL) to 78739

stderr | tests/integration/mcp-server.test.ts > MCP Process Manager Server (Stdio Integration) > should chec
k the status of a running process
[Server STDERR RAW]: [mcp-pm test-check-1746028600612] INFO: Tool successful: stop_process {
  responseSummary: '{"label":"test-check-1746028600612","status":"stopping","message":"Graceful stop attempt
ed (SIGTERM)...'
}

[Server STDERR]: [mcp-pm test-check-1746028600612] INFO: Tool successful: stop_process {
  responseSummary: '{"label":"test-check-1746028600612","status":"stopping","message":"Graceful stop attempt
ed (SIGTERM)...'
}
[sendRequest][Server STDERR during request req-stop-cleanup-check-1]: [mcp-pm test-check-1746028600612] INFO
: Tool successful: stop_process {
  responseSummary: '{"label":"test-check-1746028600612","status":"stopping","message":"Graceful stop attempt
ed (SIGTERM)...'
}

stdout | tests/integration/mcp-server.test.ts > MCP Process Manager Server (Stdio Integration) > should chec
k the status of a running process
[sendRequest] Received matching response for ID req-stop-cleanup-check-1: {"result":{"content":[{"type":"tex
t","text":"{\"label\":\"test-check-1746028600612\",\"status\":\"stopping\",\"message\":\"Graceful stop attem
pted (SIGTERM), but process unresponsive. SIGKILL sent to PID 78739.\",\"pid\":78739}"}]},"jsonrpc":"2.0","i
d":"req-stop-cleanup-check-1"}

stdout | tests/integration/mcp-server.test.ts > MCP Process Manager Server (Stdio Integration) > should chec
k the status of a running process
[TEST][checkStatus] Cleanup stop request sent. Test finished.

stdout | tests/integration/mcp-server.test.ts > MCP Process Manager Server (Stdio Integration) > should rest
art a running process
[TEST][restart] Starting test...
[TEST][restart] Starting initial process test-restart-1746028606011...
[sendRequest] Sending request (ID req-start-for-restart-test-restart-1746028606011): {"jsonrpc":"2.0","metho
d":"tools/call","params":{"name":"start_process","arguments":{"command":"node","args":["-e","console.log(`Re
start test process started PID: ${process.pid}`); setInterval(() => {}, 1000);"],"workingDirectory":"/Users/
johnlindquist/dev/mcp-dev-server/tests/integration","label":"test-restart-1746028606011"}},"id":"req-start-f
or-restart-test-restart-1746028606011"}

stderr | tests/integration/mcp-server.test.ts > MCP Process Manager Server (Stdio Integration) > should rest
art a running process
[Server STDERR RAW]: [mcp-pm test-check-1746028600612] DEBUG: Main onExit handler triggered. { exitCode: 0, 
signal: 9 }
[mcp-pm test-check-1746028600612] INFO: [ExitHandler] Process exited. Code: 0, Signal: 9 
[mcp-pm test-check-1746028600612] DEBUG: Closing log file stream for test-check-1746028600612 due to exit. 
[mcp-pm test-check-1746028600612] INFO: Status changing from stopping to stopped 
[mcp-pm test-check-1746028600612] DEBUG: Log file stream for test-check-1746028600612 finished writing and c
losed.

[Server STDERR]: [mcp-pm test-check-1746028600612] DEBUG: Main onExit handler triggered. { exitCode: 0, sign
al: 9 }
[mcp-pm test-check-1746028600612] INFO: [ExitHandler] Process exited. Code: 0, Signal: 9 
[mcp-pm test-check-1746028600612] DEBUG: Closing log file stream for test-check-1746028600612 due to exit. 
[mcp-pm test-check-1746028600612] INFO: Status changing from stopping to stopped 
[mcp-pm test-check-1746028600612] DEBUG: Log file stream for test-check-1746028600612 finished writing and c
losed.
[sendRequest][Server STDERR during request req-start-for-restart-test-restart-1746028606011]: [mcp-pm test-c
heck-1746028600612] DEBUG: Main onExit handler triggered. { exitCode: 0, signal: 9 }
[mcp-pm test-check-1746028600612] INFO: [ExitHandler] Process exited. Code: 0, Signal: 9 
[mcp-pm test-check-1746028600612] DEBUG: Closing log file stream for test-check-1746028600612 due to exit. 
[mcp-pm test-check-1746028600612] INFO: Status changing from stopping to stopped 
[mcp-pm test-check-1746028600612] DEBUG: Log file stream for test-check-1746028600612 finished writing and c
losed.

stderr | tests/integration/mcp-server.test.ts > MCP Process Manager Server (Stdio Integration) > should rest
art a running process
[Server STDERR RAW]: [mcp-pm test-restart-1746028606011] INFO: Determined label for start_process: test-rest
art-1746028606011

[Server STDERR]: [mcp-pm test-restart-1746028606011] INFO: Determined label for start_process: test-restart-
1746028606011
[sendRequest][Server STDERR during request req-start-for-restart-test-restart-1746028606011]: [mcp-pm test-r
estart-1746028606011] INFO: Determined label for start_process: test-restart-1746028606011

stderr | tests/integration/mcp-server.test.ts > MCP Process Manager Server (Stdio Integration) > should rest
art a running process
[Server STDERR RAW]: [mcp-pm test-restart-1746028606011] INFO: Tool invoked: start_process {
  params: {
    label: 'test-restart-1746028606011',
    command: 'node',
    args: [
      '-e',
      'console.log(`Restart test process started PID: ${process.pid}`); setInterval(() => {}, 1000);'
    ],
    workingDirectory: '/Users/johnlindquist/dev/mcp-dev-server/tests/integration',
    verification_timeout_ms: -1
  }
}

[Server STDERR]: [mcp-pm test-restart-1746028606011] INFO: Tool invoked: start_process {
  params: {
    label: 'test-restart-1746028606011',
    command: 'node',
    args: [
      '-e',
      'console.log(`Restart test process started PID: ${process.pid}`); setInterval(() => {}, 1000);'
    ],
    workingDirectory: '/Users/johnlindquist/dev/mcp-dev-server/tests/integration',
    verification_timeout_ms: -1
  }
}
[sendRequest][Server STDERR during request req-start-for-restart-test-restart-1746028606011]: [mcp-pm test-r
estart-1746028606011] INFO: Tool invoked: start_process {
  params: {
    label: 'test-restart-1746028606011',
    command: 'node',
    args: [
      '-e',
      'console.log(`Restart test process started PID: ${process.pid}`); setInterval(() => {}, 1000);'
    ],
    workingDirectory: '/Users/johnlindquist/dev/mcp-dev-server/tests/integration',
    verification_timeout_ms: -1
  }
}

stderr | tests/integration/mcp-server.test.ts > MCP Process Manager Server (Stdio Integration) > should rest
art a running process
[Server STDERR RAW]: [mcp-pm test-restart-1746028606011] INFO: Starting process... Command: "node", Args: [-
e, console.log(`Restart test process started PID: ${process.pid}`); setInterval(() => {}, 1000);], CWD: "/Us
ers/johnlindquist/dev/mcp-dev-server/tests/integration", isRestart: false
[mcp-pm test-restart-1746028606011] DEBUG: Verifying working directory: /Users/johnlindquist/dev/mcp-dev-ser
ver/tests/integration
[mcp-pm test-restart-1746028606011] DEBUG: Working directory verified. 

[Server STDERR]: [mcp-pm test-restart-1746028606011] INFO: Starting process... Command: "node", Args: [-e, c
onsole.log(`Restart test process started PID: ${process.pid}`); setInterval(() => {}, 1000);], CWD: "/Users/
johnlindquist/dev/mcp-dev-server/tests/integration", isRestart: false
[mcp-pm test-restart-1746028606011] DEBUG: Verifying working directory: /Users/johnlindquist/dev/mcp-dev-ser
ver/tests/integration
[mcp-pm test-restart-1746028606011] DEBUG: Working directory verified.
[sendRequest][Server STDERR during request req-start-for-restart-test-restart-1746028606011]: [mcp-pm test-r
estart-1746028606011] INFO: Starting process... Command: "node", Args: [-e, console.log(`Restart test proces
s started PID: ${process.pid}`); setInterval(() => {}, 1000);], CWD: "/Users/johnlindquist/dev/mcp-dev-serve
r/tests/integration", isRestart: false
[mcp-pm test-restart-1746028606011] DEBUG: Verifying working directory: /Users/johnlindquist/dev/mcp-dev-ser
ver/tests/integration
[mcp-pm test-restart-1746028606011] DEBUG: Working directory verified.

stderr | tests/integration/mcp-server.test.ts > MCP Process Manager Server (Stdio Integration) > should rest
art a running process
[Server STDERR RAW]: [mcp-pm test-restart-1746028606011] INFO: Logging process output to: /var/folders/c3/r0
13q3_93_s4zycmx0mdnt2h0000gn/T/mcp-pm-logs-77683/test-restart-1746028606011.log.log (mode: a)

[Server STDERR]: [mcp-pm test-restart-1746028606011] INFO: Logging process output to: /var/folders/c3/r013q3
_93_s4zycmx0mdnt2h0000gn/T/mcp-pm-logs-77683/test-restart-1746028606011.log.log (mode: a)
[sendRequest][Server STDERR during request req-start-for-restart-test-restart-1746028606011]: [mcp-pm test-r
estart-1746028606011] INFO: Logging process output to: /var/folders/c3/r013q3_93_s4zycmx0mdnt2h0000gn/T/mcp-
pm-logs-77683/test-restart-1746028606011.log.log (mode: a)

stderr | tests/integration/mcp-server.test.ts > MCP Process Manager Server (Stdio Integration) > should rest
art a running process
[Server STDERR RAW]: [mcp-pm test-restart-1746028606011] INFO: Logging process output to: /var/folders/c3/r0
13q3_93_s4zycmx0mdnt2h0000gn/T/mcp-pm-logs-77683/test-restart-1746028606011.log.log (mode: a)
[mcp-pm test-restart-1746028606011] DEBUG: Attempting to spawn PTY with shell: /bin/zsh 

[Server STDERR]: [mcp-pm test-restart-1746028606011] INFO: Logging process output to: /var/folders/c3/r013q3
_93_s4zycmx0mdnt2h0000gn/T/mcp-pm-logs-77683/test-restart-1746028606011.log.log (mode: a)
[mcp-pm test-restart-1746028606011] DEBUG: Attempting to spawn PTY with shell: /bin/zsh
[sendRequest][Server STDERR during request req-start-for-restart-test-restart-1746028606011]: [mcp-pm test-r
estart-1746028606011] INFO: Logging process output to: /var/folders/c3/r013q3_93_s4zycmx0mdnt2h0000gn/T/mcp-
pm-logs-77683/test-restart-1746028606011.log.log (mode: a)
[mcp-pm test-restart-1746028606011] DEBUG: Attempting to spawn PTY with shell: /bin/zsh

stderr | tests/integration/mcp-server.test.ts > MCP Process Manager Server (Stdio Integration) > should rest
art a running process
[Server STDERR RAW]: [mcp-pm test-restart-1746028606011] DEBUG: PTY process spawned with PID: 79232 

[Server STDERR]: [mcp-pm test-restart-1746028606011] DEBUG: PTY process spawned with PID: 79232
[sendRequest][Server STDERR during request req-start-for-restart-test-restart-1746028606011]: [mcp-pm test-r
estart-1746028606011] DEBUG: PTY process spawned with PID: 79232

stderr | tests/integration/mcp-server.test.ts > MCP Process Manager Server (Stdio Integration) > should rest
art a running process
[Server STDERR RAW]: [mcp-pm test-restart-1746028606011] INFO: PTY process created successfully, PID: 79232 
[mcp-pm test-restart-1746028606011] DEBUG: Writing command to PTY: node -e console.log(`Restart test process
 started PID: ${process.pid}`); setInterval(() => {}, 1000);
[mcp-pm test-restart-1746028606011] DEBUG: Wrote to PTY: 102 chars 

[Server STDERR]: [mcp-pm test-restart-1746028606011] INFO: PTY process created successfully, PID: 79232 
[mcp-pm test-restart-1746028606011] DEBUG: Writing command to PTY: node -e console.log(`Restart test process
 started PID: ${process.pid}`); setInterval(() => {}, 1000);
[mcp-pm test-restart-1746028606011] DEBUG: Wrote to PTY: 102 chars
[sendRequest][Server STDERR during request req-start-for-restart-test-restart-1746028606011]: [mcp-pm test-r
estart-1746028606011] INFO: PTY process created successfully, PID: 79232
[mcp-pm test-restart-1746028606011] DEBUG: Writing command to PTY: node -e console.log(`Restart test process
 started PID: ${process.pid}`); setInterval(() => {}, 1000);
[mcp-pm test-restart-1746028606011] DEBUG: Wrote to PTY: 102 chars

stderr | tests/integration/mcp-server.test.ts > MCP Process Manager Server (Stdio Integration) > should rest
art a running process
[Server STDERR RAW]: [mcp-pm test-restart-1746028606011] DEBUG: Command written to PTY successfully. 
[mcp-pm test-restart-1746028606011] INFO: No verification pattern provided. Marking as running. 
[mcp-pm test-restart-1746028606011] INFO: Status changing from starting to running 
[mcp-pm test-restart-1746028606011] INFO: Process reached stable running state. 
[mcp-pm test-restart-1746028606011] DEBUG: Waiting for logs to settle (Pause: 2000ms, Timeout: 15000ms)... 

[Server STDERR]: [mcp-pm test-restart-1746028606011] DEBUG: Command written to PTY successfully. 
[mcp-pm test-restart-1746028606011] INFO: No verification pattern provided. Marking as running. 
[mcp-pm test-restart-1746028606011] INFO: Status changing from starting to running 
[mcp-pm test-restart-1746028606011] INFO: Process reached stable running state. 
[mcp-pm test-restart-1746028606011] DEBUG: Waiting for logs to settle (Pause: 2000ms, Timeout: 15000ms)...
[sendRequest][Server STDERR during request req-start-for-restart-test-restart-1746028606011]: [mcp-pm test-r
estart-1746028606011] DEBUG: Command written to PTY successfully.
[mcp-pm test-restart-1746028606011] INFO: No verification pattern provided. Marking as running. 
[mcp-pm test-restart-1746028606011] INFO: Status changing from starting to running 
[mcp-pm test-restart-1746028606011] INFO: Process reached stable running state. 
[mcp-pm test-restart-1746028606011] DEBUG: Waiting for logs to settle (Pause: 2000ms, Timeout: 15000ms)...

stderr | tests/integration/mcp-server.test.ts > MCP Process Manager Server (Stdio Integration) > should rest
art a running process
[Server STDERR RAW]: [mcp-pm test-restart-1746028606011] DEBUG: Logs settled after 2000ms pause. 

[Server STDERR]: [mcp-pm test-restart-1746028606011] DEBUG: Logs settled after 2000ms pause.
[sendRequest][Server STDERR during request req-start-for-restart-test-restart-1746028606011]: [mcp-pm test-r
estart-1746028606011] DEBUG: Logs settled after 2000ms pause.

stderr | tests/integration/mcp-server.test.ts > MCP Process Manager Server (Stdio Integration) > should rest
art a running process
[Server STDERR RAW]: [mcp-pm test-restart-1746028606011] INFO: Final status after settling/wait: running 
[mcp-pm test-restart-1746028606011] INFO: Returning result for start_process. Included 104 log lines. Status
: running.

[Server STDERR]: [mcp-pm test-restart-1746028606011] INFO: Final status after settling/wait: running 
[mcp-pm test-restart-1746028606011] INFO: Returning result for start_process. Included 104 log lines. Status
: running.
[sendRequest][Server STDERR during request req-start-for-restart-test-restart-1746028606011]: [mcp-pm test-r
estart-1746028606011] INFO: Final status after settling/wait: running
[mcp-pm test-restart-1746028606011] INFO: Returning result for start_process. Included 104 log lines. Status
: running.

stderr | tests/integration/mcp-server.test.ts > MCP Process Manager Server (Stdio Integration) > should rest
art a running process
[Server STDERR RAW]: [mcp-pm test-restart-1746028606011] INFO: Tool successful: start_process {
  responseSummary: '{\n' +
    '  "label": "test-restart-1746028606011",\n' +
    '  "message": "Process \\"test-restart-1746028606011\\" star...'
}

[Server STDERR]: [mcp-pm test-restart-1746028606011] INFO: Tool successful: start_process {
  responseSummary: '{\n' +
    '  "label": "test-restart-1746028606011",\n' +
    '  "message": "Process \\"test-restart-1746028606011\\" star...'
}
[sendRequest][Server STDERR during request req-start-for-restart-test-restart-1746028606011]: [mcp-pm test-r
estart-1746028606011] INFO: Tool successful: start_process {
  responseSummary: '{\n' +
    '  "label": "test-restart-1746028606011",\n' +
    '  "message": "Process \\"test-restart-1746028606011\\" star...'
}

stdout | tests/integration/mcp-server.test.ts > MCP Process Manager Server (Stdio Integration) > should rest
art a running process
[sendRequest] Received matching response for ID req-start-for-restart-test-restart-1746028606011: {"result":
{"content":[{"type":"text","text":"{\n  \"label\": \"test-restart-1746028606011\",\n  \"message\": \"Process
 \\\"test-restart-1746028606011\\\" started with status: running.\",\n  \"status\": \"running\",\n  \"pid\":
 79232,\n  \"command\": \"node\",\n  \"args\": [\n    \"-e\",\n    \"console.log(`Restart test process start
ed PID: ${process.pid}`); setInterval(() => {}, 1000);\"\n  ],\n  \"cwd\": \"/Users/johnlindquist/dev/mcp-de
v-server/tests/integration\",\n  \"logs\": [\n    \"Process spawned successfully (PID: 79232) in /Users/john
lindquist/dev/mcp-dev-server/tests/integration. Status: starting.\",\n    \"Status: running (no verification
 specified).\",\n    \"Status changed to running\",\n    \"Process reached stable running state.\",\n    \"n
ode -e console.log(`Restart test process started PID: ${process.pid}`); setInterval(() => {}, 1000);\",\n
 \"%\",\n    \"ohnlindquist@johns:~/dev/mcp-dev-server/tests/integration\",\n    \";..s/integration\",\n
\"➜  integration\",\n    \"n\",\n    \"\\bno\",\n    \"d\",\n    \"e\",\n    \"-\",\n    \"e\",\n    \"c\",\
n    \"o\",\n    \"n\",\n    \"s\",\n    \"ol\",\n    \"e\",\n    \".\",\n    \"l\",\n    \"o\",\n    \"g\",
\n    \"(\",\n    \"`\",\n    \"R\",\n    \"e\",\n    \"s\",\n    \"t\",\n    \"a\",\n    \"r\",\n    \"t\",
\n    \"t\",\n    \"e\",\n    \"s\",\n    \"t\",\n    \"p\",\n    \"r\",\n    \"o\",\n    \"c\",\n    \"e\",
\n    \"s\",\n    \"s\",\n    \"s\",\n    \"t\",\n    \"a\",\n    \"r\",\n    \"t\",\n    \"e\",\n    \"d\",
\n    \"P\",\n    \"I\",\n    \"D\",\n    \":\",\n    \"$\",\n    \"{\",\n    \"p\",\n    \"r\",\n    \"o\",
\n    \"c\",\n    \"e\",\n    \"s\",\n    \"s\",\n    \".\",\n    \"p\",\n    \"pi\",\n    \"d\",\n    \"}\"
,\n    \"`\",\n    \")\",\n    \";\",\n    \"s\",\n    \"e\",\n    \"t\",\n    \"I\",\n    \"n\",\n    \"t\"
,\n    \"e\",\n    \"r\",\n    \"v\",\n    \"a\",\n    \"l\",\n    \"(\",\n    \"(\",\n    \")\",\n    \"=\"
,\n    \">\",\n    \"{\",\n    \"}\",\n    \",\",\n    \"1\",\n    \"0\",\n    \"0\",\n    \"0\",\n    \")\"
,\n    \";\",\n    \"zsh: parse error near `)'\",\n    \"%\",\n    \"ohnlindquist@johns:~/dev/mcp-dev-server
/tests/integration\",\n    \";..s/integration\",\n    \"➜  integration\",\n    \"➜  integration git:(add-pre
-push-test)\"\n  ],\n  \"monitoring_hint\": \"If you requested to tail the 'test-restart-1746028606011' proc
ess, please run this command in a separate background terminal: tail -f -n 10 \\\"/var/folders/c3/r013q3_93_
s4zycmx0mdnt2h0000gn/T/mcp-pm-logs-77683/test-restart-1746028606011.log.log\\\". For status updates or recen
t inline logs, use check_process_status('test-restart-1746028606011').\",\n  \"log_file_path\": \"/var/folde
rs/c3/r013q3_93_s4zycmx0mdnt2h0000gn/T/mcp-pm-logs-77683/test-restart-1746028606011.log.log\",\n  \"tail_com
mand\": \"tail -f -n 10 \\\"/var/folders/c3/r013q3_93_s4zycmx0mdnt2h0000gn/T/mcp-pm-logs-77683/test-restart-
1746028606011.log.log\\\"\",\n  \"info_message\": \"Process started. Logs settled quickly.\",\n  \"exitCode\
": null,\n  \"signal\": null\n}"}]},"jsonrpc":"2.0","id":"req-start-for-restart-test-restart-1746028606011"}
stdout | tests/integration/mcp-server.test.ts > MCP Process Manager Server (Stdio Integration) > should rest
art a running process
[TEST][restart] Initial process test-restart-1746028606011 started.
[TEST][restart] Initial PID: 79232
[TEST][restart] Sending restart_process request...
[sendRequest] Sending request (ID req-restart-test-restart-1746028606011): {"jsonrpc":"2.0","method":"tools/
call","params":{"name":"restart_process","arguments":{"label":"test-restart-1746028606011"}},"id":"req-resta
rt-test-restart-1746028606011"}

stderr | tests/integration/mcp-server.test.ts > MCP Process Manager Server (Stdio Integration) > should rest
art a running process
[Server STDERR RAW]: [mcp-pm test-restart-1746028606011] INFO: Tool invoked: restart_process { params: { lab
el: 'test-restart-1746028606011' } }

[Server STDERR]: [mcp-pm test-restart-1746028606011] INFO: Tool invoked: restart_process { params: { label: 
'test-restart-1746028606011' } }
[sendRequest][Server STDERR during request req-restart-test-restart-1746028606011]: [mcp-pm test-restart-174
6028606011] INFO: Tool invoked: restart_process { params: { label: 'test-restart-1746028606011' } }

stderr | tests/integration/mcp-server.test.ts > MCP Process Manager Server (Stdio Integration) > should rest
art a running process
[Server STDERR RAW]: [mcp-pm test-restart-1746028606011] INFO: Restart requested for process "test-restart-1
746028606011".

[Server STDERR]: [mcp-pm test-restart-1746028606011] INFO: Restart requested for process "test-restart-17460
28606011".
[sendRequest][Server STDERR during request req-restart-test-restart-1746028606011]: [mcp-pm test-restart-174
6028606011] INFO: Restart requested for process "test-restart-1746028606011".

stderr | tests/integration/mcp-server.test.ts > MCP Process Manager Server (Stdio Integration) > should rest
art a running process
[Server STDERR RAW]: [mcp-pm test-restart-1746028606011] INFO: Stopping process (status: running) before res
tart...
[mcp-pm test-restart-1746028606011] INFO: Stop requested for process "test-restart-1746028606011". Force: fa
lse
[mcp-pm test-restart-1746028606011] INFO: Status changing from running to stopping 
[mcp-pm test-restart-1746028606011] INFO: Attempting graceful shutdown. Sending SIGTERM to PID 79232... 

[Server STDERR]: [mcp-pm test-restart-1746028606011] INFO: Stopping process (status: running) before restart
...
[mcp-pm test-restart-1746028606011] INFO: Stop requested for process "test-restart-1746028606011". Force: fa
lse
[mcp-pm test-restart-1746028606011] INFO: Status changing from running to stopping 
[mcp-pm test-restart-1746028606011] INFO: Attempting graceful shutdown. Sending SIGTERM to PID 79232...
[sendRequest][Server STDERR during request req-restart-test-restart-1746028606011]: [mcp-pm test-restart-174
6028606011] INFO: Stopping process (status: running) before restart...
[mcp-pm test-restart-1746028606011] INFO: Stop requested for process "test-restart-1746028606011". Force: fa
lse
[mcp-pm test-restart-1746028606011] INFO: Status changing from running to stopping 
[mcp-pm test-restart-1746028606011] INFO: Attempting graceful shutdown. Sending SIGTERM to PID 79232...

stderr | tests/integration/mcp-server.test.ts > MCP Process Manager Server (Stdio Integration) > should rest
art a running process
[Server STDERR RAW]: [mcp-pm test-restart-1746028606011] DEBUG: fkill sent (SIGTERM) to 79232 

[Server STDERR]: [mcp-pm test-restart-1746028606011] DEBUG: fkill sent (SIGTERM) to 79232
[sendRequest][Server STDERR during request req-restart-test-restart-1746028606011]: [mcp-pm test-restart-174
6028606011] DEBUG: fkill sent (SIGTERM) to 79232

stderr | tests/integration/mcp-server.test.ts > MCP Process Manager Server (Stdio Integration) > should rest
art a running process
[Server STDERR RAW]: [mcp-pm test-restart-1746028606011] DEBUG: Waiting 3000ms for graceful shutdown... 

[Server STDERR]: [mcp-pm test-restart-1746028606011] DEBUG: Waiting 3000ms for graceful shutdown...
[sendRequest][Server STDERR during request req-restart-test-restart-1746028606011]: [mcp-pm test-restart-174
6028606011] DEBUG: Waiting 3000ms for graceful shutdown...

stderr | tests/integration/mcp-server.test.ts > MCP Process Manager Server (Stdio Integration) > should rest
art a running process
[Server STDERR RAW]: [mcp-pm test-restart-1746028606011] WARN: Process did not terminate after SIGTERM and w
ait. Sending SIGKILL to PID 79232...

[Server STDERR]: [mcp-pm test-restart-1746028606011] WARN: Process did not terminate after SIGTERM and wait.
 Sending SIGKILL to PID 79232...
[sendRequest][Server STDERR during request req-restart-test-restart-1746028606011]: [mcp-pm test-restart-174
6028606011] WARN: Process did not terminate after SIGTERM and wait. Sending SIGKILL to PID 79232...

stderr | tests/integration/mcp-server.test.ts > MCP Process Manager Server (Stdio Integration) > should rest
art a running process
[Server STDERR RAW]: [mcp-pm test-restart-1746028606011] DEBUG: fkill sent (SIGKILL) to 79232 

[Server STDERR]: [mcp-pm test-restart-1746028606011] DEBUG: fkill sent (SIGKILL) to 79232
[sendRequest][Server STDERR during request req-restart-test-restart-1746028606011]: [mcp-pm test-restart-174
6028606011] DEBUG: fkill sent (SIGKILL) to 79232

stderr | tests/integration/mcp-server.test.ts > MCP Process Manager Server (Stdio Integration) > should rest
art a running process
[Server STDERR RAW]: [mcp-pm test-restart-1746028606011] INFO: [Restart] Stop process result: {"content":[{"
type":"text","text":"{\"label\":\"test-restart-1746028606011\",\"status\":\"stopping\",\"message\":\"Gracefu
l stop attempted (SIGTERM), but process unresponsive. SIGKILL sent to PID 79232.\",\"pid\":79232}"}]}
[mcp-pm test-restart-1746028606011] INFO: Process stopped successfully before restart. 
[mcp-pm test-restart-1746028606011] INFO: [Restart] Waiting 500ms after stop before starting... 

[Server STDERR]: [mcp-pm test-restart-1746028606011] INFO: [Restart] Stop process result: {"content":[{"type
":"text","text":"{\"label\":\"test-restart-1746028606011\",\"status\":\"stopping\",\"message\":\"Graceful st
op attempted (SIGTERM), but process unresponsive. SIGKILL sent to PID 79232.\",\"pid\":79232}"}]}
[mcp-pm test-restart-1746028606011] INFO: Process stopped successfully before restart. 
[mcp-pm test-restart-1746028606011] INFO: [Restart] Waiting 500ms after stop before starting...
[sendRequest][Server STDERR during request req-restart-test-restart-1746028606011]: [mcp-pm test-restart-174
6028606011] INFO: [Restart] Stop process result: {"content":[{"type":"text","text":"{\"label\":\"test-restar
t-1746028606011\",\"status\":\"stopping\",\"message\":\"Graceful stop attempted (SIGTERM), but process unres
ponsive. SIGKILL sent to PID 79232.\",\"pid\":79232}"}]}
[mcp-pm test-restart-1746028606011] INFO: Process stopped successfully before restart. 
[mcp-pm test-restart-1746028606011] INFO: [Restart] Waiting 500ms after stop before starting...

stderr | tests/integration/mcp-server.test.ts > MCP Process Manager Server (Stdio Integration) > should rest
art a running process
[Server STDERR RAW]: [mcp-pm test-restart-1746028606011] DEBUG: Main onExit handler triggered. { exitCode: 0
, signal: 9 }

[Server STDERR]: [mcp-pm test-restart-1746028606011] DEBUG: Main onExit handler triggered. { exitCode: 0, si
gnal: 9 }
[sendRequest][Server STDERR during request req-restart-test-restart-1746028606011]: [mcp-pm test-restart-174
6028606011] DEBUG: Main onExit handler triggered. { exitCode: 0, signal: 9 }

stderr | tests/integration/mcp-server.test.ts > MCP Process Manager Server (Stdio Integration) > should rest
art a running process
[Server STDERR RAW]: [mcp-pm test-restart-1746028606011] INFO: [ExitHandler] Process exited. Code: 0, Signal
: 9
[mcp-pm test-restart-1746028606011] DEBUG: Closing log file stream for test-restart-1746028606011 due to exi
t.
[mcp-pm test-restart-1746028606011] INFO: Status changing from stopping to stopped 

[Server STDERR]: [mcp-pm test-restart-1746028606011] INFO: [ExitHandler] Process exited. Code: 0, Signal: 9 
[mcp-pm test-restart-1746028606011] DEBUG: Closing log file stream for test-restart-1746028606011 due to exi
t.
[mcp-pm test-restart-1746028606011] INFO: Status changing from stopping to stopped
[sendRequest][Server STDERR during request req-restart-test-restart-1746028606011]: [mcp-pm test-restart-174
6028606011] INFO: [ExitHandler] Process exited. Code: 0, Signal: 9
[mcp-pm test-restart-1746028606011] DEBUG: Closing log file stream for test-restart-1746028606011 due to exi
t.
[mcp-pm test-restart-1746028606011] INFO: Status changing from stopping to stopped

stderr | tests/integration/mcp-server.test.ts > MCP Process Manager Server (Stdio Integration) > should rest
art a running process
[Server STDERR RAW]: [mcp-pm test-restart-1746028606011] DEBUG: Log file stream for test-restart-17460286060
11 finished writing and closed.

[Server STDERR]: [mcp-pm test-restart-1746028606011] DEBUG: Log file stream for test-restart-1746028606011 f
inished writing and closed.
[sendRequest][Server STDERR during request req-restart-test-restart-1746028606011]: [mcp-pm test-restart-174
6028606011] DEBUG: Log file stream for test-restart-1746028606011 finished writing and closed.

stderr | tests/integration/mcp-server.test.ts > MCP Process Manager Server (Stdio Integration) > should rest
art a running process
[Server STDERR RAW]: [mcp-pm test-restart-1746028606011] INFO: Starting process after stop/check... 

[Server STDERR]: [mcp-pm test-restart-1746028606011] INFO: Starting process after stop/check...
[sendRequest][Server STDERR during request req-restart-test-restart-1746028606011]: [mcp-pm test-restart-174
6028606011] INFO: Starting process after stop/check...

stderr | tests/integration/mcp-server.test.ts > MCP Process Manager Server (Stdio Integration) > should rest
art a running process
[Server STDERR RAW]: [mcp-pm test-restart-1746028606011] INFO: Starting process... Command: "node", Args: [-
e, console.log(`Restart test process started PID: ${process.pid}`); setInterval(() => {}, 1000);], CWD: "/Us
ers/johnlindquist/dev/mcp-dev-server/tests/integration", isRestart: true
[mcp-pm test-restart-1746028606011] DEBUG: Verifying working directory: /Users/johnlindquist/dev/mcp-dev-ser
ver/tests/integration
[mcp-pm test-restart-1746028606011] DEBUG: Working directory verified. 
[mcp-pm test-restart-1746028606011] INFO: Restarting process "test-restart-1746028606011". 

[Server STDERR]: [mcp-pm test-restart-1746028606011] INFO: Starting process... Command: "node", Args: [-e, c
onsole.log(`Restart test process started PID: ${process.pid}`); setInterval(() => {}, 1000);], CWD: "/Users/
johnlindquist/dev/mcp-dev-server/tests/integration", isRestart: true
[mcp-pm test-restart-1746028606011] DEBUG: Verifying working directory: /Users/johnlindquist/dev/mcp-dev-ser
ver/tests/integration
[mcp-pm test-restart-1746028606011] DEBUG: Working directory verified. 
[mcp-pm test-restart-1746028606011] INFO: Restarting process "test-restart-1746028606011".
[sendRequest][Server STDERR during request req-restart-test-restart-1746028606011]: [mcp-pm test-restart-174
6028606011] INFO: Starting process... Command: "node", Args: [-e, console.log(`Restart test process started
PID: ${process.pid}`); setInterval(() => {}, 1000);], CWD: "/Users/johnlindquist/dev/mcp-dev-server/tests/in
tegration", isRestart: true
[mcp-pm test-restart-1746028606011] DEBUG: Verifying working directory: /Users/johnlindquist/dev/mcp-dev-ser
ver/tests/integration
[mcp-pm test-restart-1746028606011] DEBUG: Working directory verified. 
[mcp-pm test-restart-1746028606011] INFO: Restarting process "test-restart-1746028606011".

stderr | tests/integration/mcp-server.test.ts > MCP Process Manager Server (Stdio Integration) > should rest
art a running process
[Server STDERR RAW]: [mcp-pm test-restart-1746028606011] INFO: Logging process output to: /var/folders/c3/r0
13q3_93_s4zycmx0mdnt2h0000gn/T/mcp-pm-logs-77683/test-restart-1746028606011.log.log (mode: a)
[mcp-pm test-restart-1746028606011] INFO: Logging process output to: /var/folders/c3/r013q3_93_s4zycmx0mdnt2
h0000gn/T/mcp-pm-logs-77683/test-restart-1746028606011.log.log (mode: a)

[Server STDERR]: [mcp-pm test-restart-1746028606011] INFO: Logging process output to: /var/folders/c3/r013q3
_93_s4zycmx0mdnt2h0000gn/T/mcp-pm-logs-77683/test-restart-1746028606011.log.log (mode: a)
[mcp-pm test-restart-1746028606011] INFO: Logging process output to: /var/folders/c3/r013q3_93_s4zycmx0mdnt2
h0000gn/T/mcp-pm-logs-77683/test-restart-1746028606011.log.log (mode: a)
[sendRequest][Server STDERR during request req-restart-test-restart-1746028606011]: [mcp-pm test-restart-174
6028606011] INFO: Logging process output to: /var/folders/c3/r013q3_93_s4zycmx0mdnt2h0000gn/T/mcp-pm-logs-77
683/test-restart-1746028606011.log.log (mode: a)
[mcp-pm test-restart-1746028606011] INFO: Logging process output to: /var/folders/c3/r013q3_93_s4zycmx0mdnt2
h0000gn/T/mcp-pm-logs-77683/test-restart-1746028606011.log.log (mode: a)

stderr | tests/integration/mcp-server.test.ts > MCP Process Manager Server (Stdio Integration) > should rest
art a running process
[Server STDERR RAW]: [mcp-pm test-restart-1746028606011] DEBUG: Attempting to spawn PTY with shell: /bin/zsh


[Server STDERR]: [mcp-pm test-restart-1746028606011] DEBUG: Attempting to spawn PTY with shell: /bin/zsh
[sendRequest][Server STDERR during request req-restart-test-restart-1746028606011]: [mcp-pm test-restart-174
6028606011] DEBUG: Attempting to spawn PTY with shell: /bin/zsh

stderr | tests/integration/mcp-server.test.ts > MCP Process Manager Server (Stdio Integration) > should rest
art a running process
[Server STDERR RAW]: [mcp-pm test-restart-1746028606011] DEBUG: PTY process spawned with PID: 79746 

[Server STDERR]: [mcp-pm test-restart-1746028606011] DEBUG: PTY process spawned with PID: 79746
[sendRequest][Server STDERR during request req-restart-test-restart-1746028606011]: [mcp-pm test-restart-174
6028606011] DEBUG: PTY process spawned with PID: 79746

stderr | tests/integration/mcp-server.test.ts > MCP Process Manager Server (Stdio Integration) > should rest
art a running process
[Server STDERR RAW]: [mcp-pm test-restart-1746028606011] INFO: PTY process created successfully, PID: 79746 
[mcp-pm test-restart-1746028606011] DEBUG: Writing command to PTY: node -e console.log(`Restart test process
 started PID: ${process.pid}`); setInterval(() => {}, 1000);
[mcp-pm test-restart-1746028606011] DEBUG: Wrote to PTY: 102 chars 
[mcp-pm test-restart-1746028606011] DEBUG: Command written to PTY successfully. 
[mcp-pm test-restart-1746028606011] INFO: No verification pattern provided. Marking as running. 
[mcp-pm test-restart-1746028606011] INFO: Status changing from starting to running 
[mcp-pm test-restart-1746028606011] INFO: Process reached stable running state. 
[mcp-pm test-restart-1746028606011] DEBUG: Waiting for logs to settle (Pause: 2000ms, Timeout: 15000ms)... 

[Server STDERR]: [mcp-pm test-restart-1746028606011] INFO: PTY process created successfully, PID: 79746 
[mcp-pm test-restart-1746028606011] DEBUG: Writing command to PTY: node -e console.log(`Restart test process
 started PID: ${process.pid}`); setInterval(() => {}, 1000);
[mcp-pm test-restart-1746028606011] DEBUG: Wrote to PTY: 102 chars 
[mcp-pm test-restart-1746028606011] DEBUG: Command written to PTY successfully. 
[mcp-pm test-restart-1746028606011] INFO: No verification pattern provided. Marking as running. 
[mcp-pm test-restart-1746028606011] INFO: Status changing from starting to running 
[mcp-pm test-restart-1746028606011] INFO: Process reached stable running state. 
[mcp-pm test-restart-1746028606011] DEBUG: Waiting for logs to settle (Pause: 2000ms, Timeout: 15000ms)...
[sendRequest][Server STDERR during request req-restart-test-restart-1746028606011]: [mcp-pm test-restart-174
6028606011] INFO: PTY process created successfully, PID: 79746
[mcp-pm test-restart-1746028606011] DEBUG: Writing command to PTY: node -e console.log(`Restart test process
 started PID: ${process.pid}`); setInterval(() => {}, 1000);
[mcp-pm test-restart-1746028606011] DEBUG: Wrote to PTY: 102 chars 
[mcp-pm test-restart-1746028606011] DEBUG: Command written to PTY successfully. 
[mcp-pm test-restart-1746028606011] INFO: No verification pattern provided. Marking as running. 
[mcp-pm test-restart-1746028606011] INFO: Status changing from starting to running 
[mcp-pm test-restart-1746028606011] INFO: Process reached stable running state. 
[mcp-pm test-restart-1746028606011] DEBUG: Waiting for logs to settle (Pause: 2000ms, Timeout: 15000ms)...

stderr | tests/integration/mcp-server.test.ts > MCP Process Manager Server (Stdio Integration) > should rest
art a running process
[Server STDERR RAW]: [mcp-pm test-restart-1746028606011] DEBUG: Logs settled after 2000ms pause. 

[Server STDERR]: [mcp-pm test-restart-1746028606011] DEBUG: Logs settled after 2000ms pause.
[sendRequest][Server STDERR during request req-restart-test-restart-1746028606011]: [mcp-pm test-restart-174
6028606011] DEBUG: Logs settled after 2000ms pause.

stderr | tests/integration/mcp-server.test.ts > MCP Process Manager Server (Stdio Integration) > should rest
art a running process
[Server STDERR RAW]: [mcp-pm test-restart-1746028606011] INFO: Final status after settling/wait: running 

[Server STDERR]: [mcp-pm test-restart-1746028606011] INFO: Final status after settling/wait: running
[sendRequest][Server STDERR during request req-restart-test-restart-1746028606011]: [mcp-pm test-restart-174
6028606011] INFO: Final status after settling/wait: running

stderr | tests/integration/mcp-server.test.ts > MCP Process Manager Server (Stdio Integration) > should rest
art a running process
[Server STDERR RAW]: [mcp-pm test-restart-1746028606011] INFO: Returning result for start_process. Included 
217 log lines. Status: running.

[Server STDERR]: [mcp-pm test-restart-1746028606011] INFO: Returning result for start_process. Included 217 
log lines. Status: running.
[sendRequest][Server STDERR during request req-restart-test-restart-1746028606011]: [mcp-pm test-restart-174
6028606011] INFO: Returning result for start_process. Included 217 log lines. Status: running.

stderr | tests/integration/mcp-server.test.ts > MCP Process Manager Server (Stdio Integration) > should rest
art a running process
[Server STDERR RAW]: [mcp-pm test-restart-1746028606011] INFO: [Restart] Start attempt completed. Result: {"
content":[{"type":"text","text":"{\n  \"label\": \"test-restart-1746028606011\",\n  \"message\": \"Process \
\\"test-restart-1746028606011\\\" started with status: running.\",\n  \"status\": \"running\",\n  \"pid\": 7
9746,\n  \"command\": \"node\",\n  \"args\": [\n    \"-e\",\n    \"console.log(`Restart test process started
 PID: ${process.pid}`); setInterval(() => {}, 1000);\"\n  ],\n  \"cwd\": \"/Users/johnlindquist/dev/mcp-dev-
server/tests/integration\",\n  \"logs\": [\n    \"Process spawned successfully (PID: 79232) in /Users/johnli
ndquist/dev/mcp-dev-server/tests/integration. Status: starting.\",\n    \"Status: running (no verification s
pecified).\",\n    \"Status changed to running\",\n    \"Process reached stable running state.\",\n    \"nod
e -e console.log(`Restart test process started PID: ${process.pid}`); setInterval(() => {}, 1000);\",\n    \
"%\",\n    \"ohnlindquist@johns:~/dev/mcp-dev-server/tests/integration\",\n    \";..s/integration\",\n    \"
➜  integration\",\n    \"n\",\n    \"\\bno\",\n    \"d\",\n    \"e\",\n    \"-\",\n    \"e\",\n    \"c\",\n
   \"o\",\n    \"n\",\n    \"s\",\n    \"ol\",\n    \"e\",\n    \".\",\n    \"l\",\n    \"o\",\n    \"g\",\n
    \"(\",\n    \"`\",\n    \"R\",\n    \"e\",\n    \"s\",\n    \"t\",\n    \"a\",\n    \"r\",\n    \"t\",\n
    \"t\",\n    \"e\",\n    \"s\",\n    \"t\",\n    \"p\",\n    \"r\",\n    \"o\",\n    \"c\",\n    \"e\",\n
    \"s\",\n    \"s\",\n    \"s\",\n    \"t\",\n    \"a\",\n    \"r\",\n    \"t\",\n    \"e\",\n    \"d\",\n
    \"P\",\n    \"I\",\n    \"D\",\n    \":\",\n    \"$\",\n    \"{\",\n    \"p\",\n    \"r\",\n    \"o\",\n
    \"c\",\n    \"e\",\n    \"s\",\n    \"s\",\n    \".\",\n    \"p\",\n    \"pi\",\n    \"d\",\n    \"}\",\
n    \"`\",\n    \")\",\n    \";\",\n    \"s\",\n    \"e\",\n    \"t\",\n    \"I\",\n    \"n\",\n    \"t\",\
n    \"e\",\n    \"r\",\n    \"v\",\n    \"a\",\n    \"l\",\n    \"(\",\n    \"(\",\n    \")\",\n    \"=\",\
n    \">\",\n    \"{\",\n    \"}\",\n    \",\",\n    \"1\",\n    \"0\",\n    \"0\",\n    \"0\",\n    \")\",\
n    \";\",\n    \"zsh: parse error near `)'\",\n    \"%\",\n    \"ohnlindquist@johns:~/dev/mcp-dev-server/t
ests/integration\",\n    \";..s/integration\",\n    \"➜  integration\",\n    \"➜  integration git:(add-pre-p
ush-test)\",\n    \"Restart requested.\",\n    \"Stopping process before restart...\",\n    \"Stop requested
. Force: false\",\n    \"Status changed to stopping\",\n    \"Sending SIGTERM...\",\n    \"Process unrespons
ive to SIGTERM, sending SIGKILL...\",\n    \"Process stopped before restart.\",\n    \"--- Process Exited (C
ode: 0, Signal: 9) ---\",\n    \"Status changed to stopped\",\n    \"--- Process Started (2025-04-30T15:56:5
1.920Z) ---\",\n    \"Process spawned successfully (PID: 79746) in /Users/johnlindquist/dev/mcp-dev-server/t
ests/integration. Status: starting.\",\n    \"Status: running (no verification specified).\",\n    \"Status
changed to running\",\n    \"Process reached stable running state.\",\n    \"node -e console.log(`Restart te
st process started PID: ${process.pid}`); setInterval(() => {}, 1000);\",\n    \"%\",\n    \"ohnlindquist@jo
hns:~/dev/mcp-dev-server/tests/integration\",\n    \";..s/integration\",\n    \"➜  integration\",\n    \"n\"
,\n    \"\\bno\",\n    \"de\",\n    \"-\",\n    \"e\",\n    \"c\",\n    \"o\",\n    \"n\",\n    \"s\",\n
\"o\",\n    \"l\",\n    \"e.\",\n    \"l\",\n    \"o\",\n    \"g\",\n    \"(\",\n    \"`\",\n    \"R\",\n
 \"e\",\n    \"s\",\n    \"t\",\n    \"a\",\n    \"r\",\n    \"t\",\n    \"t\",\n    \"e\",\n    \"s\",\n
 \"t\",\n    \"p\",\n    \"r\",\n    \"o\",\n    \"c\",\n    \"e\",\n    \"s\",\n    \"s\",\n    \"s\",\n
 \"t\",\n    \"a\",\n    \"r\",\n    \"t\",\n    \"e\",\n    \"d\",\n    \"P\",\n    \"I\",\n    \"D\",\n
 \":\",\n    \"$\",\n    \"{\",\n    \"p\",\n    \"r\",\n    \"o\",\n    \"c\",\n    \"e\",\n    \"s\",\n
 \"s\",\n    \".\",\n    \"p\",\n    \"pi\",\n    \"d\",\n    \"}\",\n    \"`\",\n    \")\",\n    \";\",\n
  \"s\",\n    \"e\",\n    \"t\",\n    \"I\",\n    \"n\",\n    \"t\",\n    \"e\",\n    \"r\",\n    \"v\",\n
  \"a\",\n    \"l\",\n    \"(\",\n    \"(\",\n    \")\",\n    \"=\",\n    \">\",\n    \"{\",\n    \"}\",\n
  \",\",\n    \"1\",\n    \"0\",\n    \"0\",\n    \"0\",\n    \")\",\n    \";\",\n    \"zsh: parse error nea
r `)'\",\n    \"%\",\n    \"ohnlindquist@johns:~/dev/mcp-dev-server/tests/integration\",\n    \";..s/integra
tion\",\n    \"➜  integration\",\n    \"➜  integration git:(add-pre-push-test)\"\n  ],\n  \"monitoring_hint\
": \"If you requested to tail the 'test-restart-1746028606011' process, please run this command in a separat
e background terminal: tail -f -n 10 \\\"/var/folders/c3/r013q3_93_s4zycmx0mdnt2h0000gn/T/mcp-pm-logs-77683/
test-restart-1746028606011.log.log\\\". For status updates or recent inline logs, use check_process_status('
test-restart-1746028606011').\",\n  \"log_file_path\": \"/var/folders/c3/r013q3_93_s4zycmx0mdnt2h0000gn/T/mc
p-pm-logs-77683/test-restart-1746028606011.log.log\",\n  \"tail_command\": \"tail -f -n 10 \\\"/var/folders/
c3/r013q3_93_s4zycmx0mdnt2h0000gn/T/mcp-pm-logs-77683/test-restart-1746028606011.log.log\\\"\",\n  \"info_me
ssage\": \"Process started. Logs settled quickly.\",\n  \"exitCode\": null,\n  \"signal\": null\n}"}]}

[Server STDERR]: [mcp-pm test-restart-1746028606011] INFO: [Restart] Start attempt completed. Result: {"cont
ent":[{"type":"text","text":"{\n  \"label\": \"test-restart-1746028606011\",\n  \"message\": \"Process \\\"t
est-restart-1746028606011\\\" started with status: running.\",\n  \"status\": \"running\",\n  \"pid\": 79746
,\n  \"command\": \"node\",\n  \"args\": [\n    \"-e\",\n    \"console.log(`Restart test process started PID
: ${process.pid}`); setInterval(() => {}, 1000);\"\n  ],\n  \"cwd\": \"/Users/johnlindquist/dev/mcp-dev-serv
er/tests/integration\",\n  \"logs\": [\n    \"Process spawned successfully (PID: 79232) in /Users/johnlindqu
ist/dev/mcp-dev-server/tests/integration. Status: starting.\",\n    \"Status: running (no verification speci
fied).\",\n    \"Status changed to running\",\n    \"Process reached stable running state.\",\n    \"node -e
 console.log(`Restart test process started PID: ${process.pid}`); setInterval(() => {}, 1000);\",\n    \"%\"
,\n    \"ohnlindquist@johns:~/dev/mcp-dev-server/tests/integration\",\n    \";..s/integration\",\n    \"➜  i
ntegration\",\n    \"n\",\n    \"\\bno\",\n    \"d\",\n    \"e\",\n    \"-\",\n    \"e\",\n    \"c\",\n    \
"o\",\n    \"n\",\n    \"s\",\n    \"ol\",\n    \"e\",\n    \".\",\n    \"l\",\n    \"o\",\n    \"g\",\n
\"(\",\n    \"`\",\n    \"R\",\n    \"e\",\n    \"s\",\n    \"t\",\n    \"a\",\n    \"r\",\n    \"t\",\n
\"t\",\n    \"e\",\n    \"s\",\n    \"t\",\n    \"p\",\n    \"r\",\n    \"o\",\n    \"c\",\n    \"e\",\n
\"s\",\n    \"s\",\n    \"s\",\n    \"t\",\n    \"a\",\n    \"r\",\n    \"t\",\n    \"e\",\n    \"d\",\n
\"P\",\n    \"I\",\n    \"D\",\n    \":\",\n    \"$\",\n    \"{\",\n    \"p\",\n    \"r\",\n    \"o\",\n
\"c\",\n    \"e\",\n    \"s\",\n    \"s\",\n    \".\",\n    \"p\",\n    \"pi\",\n    \"d\",\n    \"}\",\n
 \"`\",\n    \")\",\n    \";\",\n    \"s\",\n    \"e\",\n    \"t\",\n    \"I\",\n    \"n\",\n    \"t\",\n
 \"e\",\n    \"r\",\n    \"v\",\n    \"a\",\n    \"l\",\n    \"(\",\n    \"(\",\n    \")\",\n    \"=\",\n
 \">\",\n    \"{\",\n    \"}\",\n    \",\",\n    \"1\",\n    \"0\",\n    \"0\",\n    \"0\",\n    \")\",\n
 \";\",\n    \"zsh: parse error near `)'\",\n    \"%\",\n    \"ohnlindquist@johns:~/dev/mcp-dev-server/tests
/integration\",\n    \";..s/integration\",\n    \"➜  integration\",\n    \"➜  integration git:(add-pre-push-
test)\",\n    \"Restart requested.\",\n    \"Stopping process before restart...\",\n    \"Stop requested. Fo
rce: false\",\n    \"Status changed to stopping\",\n    \"Sending SIGTERM...\",\n    \"Process unresponsive
to SIGTERM, sending SIGKILL...\",\n    \"Process stopped before restart.\",\n    \"--- Process Exited (Code:
 0, Signal: 9) ---\",\n    \"Status changed to stopped\",\n    \"--- Process Started (2025-04-30T15:56:51.92
0Z) ---\",\n    \"Process spawned successfully (PID: 79746) in /Users/johnlindquist/dev/mcp-dev-server/tests
/integration. Status: starting.\",\n    \"Status: running (no verification specified).\",\n    \"Status chan
ged to running\",\n    \"Process reached stable running state.\",\n    \"node -e console.log(`Restart test p
rocess started PID: ${process.pid}`); setInterval(() => {}, 1000);\",\n    \"%\",\n    \"ohnlindquist@johns:
~/dev/mcp-dev-server/tests/integration\",\n    \";..s/integration\",\n    \"➜  integration\",\n    \"n\",\n
   \"\\bno\",\n    \"de\",\n    \"-\",\n    \"e\",\n    \"c\",\n    \"o\",\n    \"n\",\n    \"s\",\n    \"o\
",\n    \"l\",\n    \"e.\",\n    \"l\",\n    \"o\",\n    \"g\",\n    \"(\",\n    \"`\",\n    \"R\",\n    \"e
\",\n    \"s\",\n    \"t\",\n    \"a\",\n    \"r\",\n    \"t\",\n    \"t\",\n    \"e\",\n    \"s\",\n    \"t
\",\n    \"p\",\n    \"r\",\n    \"o\",\n    \"c\",\n    \"e\",\n    \"s\",\n    \"s\",\n    \"s\",\n    \"t
\",\n    \"a\",\n    \"r\",\n    \"t\",\n    \"e\",\n    \"d\",\n    \"P\",\n    \"I\",\n    \"D\",\n    \":
\",\n    \"$\",\n    \"{\",\n    \"p\",\n    \"r\",\n    \"o\",\n    \"c\",\n    \"e\",\n    \"s\",\n    \"s
\",\n    \".\",\n    \"p\",\n    \"pi\",\n    \"d\",\n    \"}\",\n    \"`\",\n    \")\",\n    \";\",\n    \"
s\",\n    \"e\",\n    \"t\",\n    \"I\",\n    \"n\",\n    \"t\",\n    \"e\",\n    \"r\",\n    \"v\",\n    \"
a\",\n    \"l\",\n    \"(\",\n    \"(\",\n    \")\",\n    \"=\",\n    \">\",\n    \"{\",\n    \"}\",\n    \"
,\",\n    \"1\",\n    \"0\",\n    \"0\",\n    \"0\",\n    \")\",\n    \";\",\n    \"zsh: parse error near `)
'\",\n    \"%\",\n    \"ohnlindquist@johns:~/dev/mcp-dev-server/tests/integration\",\n    \";..s/integration
\",\n    \"➜  integration\",\n    \"➜  integration git:(add-pre-push-test)\"\n  ],\n  \"monitoring_hint\": \
"If you requested to tail the 'test-restart-1746028606011' process, please run this command in a separate ba
ckground terminal: tail -f -n 10 \\\"/var/folders/c3/r013q3_93_s4zycmx0mdnt2h0000gn/T/mcp-pm-logs-77683/test
-restart-1746028606011.log.log\\\". For status updates or recent inline logs, use check_process_status('test
-restart-1746028606011').\",\n  \"log_file_path\": \"/var/folders/c3/r013q3_93_s4zycmx0mdnt2h0000gn/T/mcp-pm
-logs-77683/test-restart-1746028606011.log.log\",\n  \"tail_command\": \"tail -f -n 10 \\\"/var/folders/c3/r
013q3_93_s4zycmx0mdnt2h0000gn/T/mcp-pm-logs-77683/test-restart-1746028606011.log.log\\\"\",\n  \"info_messag
e\": \"Process started. Logs settled quickly.\",\n  \"exitCode\": null,\n  \"signal\": null\n}"}]}
[sendRequest][Server STDERR during request req-restart-test-restart-1746028606011]: [mcp-pm test-restart-174
6028606011] INFO: [Restart] Start attempt completed. Result: {"content":[{"type":"text","text":"{\n  \"label
\": \"test-restart-1746028606011\",\n  \"message\": \"Process \\\"test-restart-1746028606011\\\" started wit
h status: running.\",\n  \"status\": \"running\",\n  \"pid\": 79746,\n  \"command\": \"node\",\n  \"args\":
[\n    \"-e\",\n    \"console.log(`Restart test process started PID: ${process.pid}`); setInterval(() => {},
 1000);\"\n  ],\n  \"cwd\": \"/Users/johnlindquist/dev/mcp-dev-server/tests/integration\",\n  \"logs\": [\n
   \"Process spawned successfully (PID: 79232) in /Users/johnlindquist/dev/mcp-dev-server/tests/integration.
 Status: starting.\",\n    \"Status: running (no verification specified).\",\n    \"Status changed to runnin
g\",\n    \"Process reached stable running state.\",\n    \"node -e console.log(`Restart test process starte
d PID: ${process.pid}`); setInterval(() => {}, 1000);\",\n    \"%\",\n    \"ohnlindquist@johns:~/dev/mcp-dev
-server/tests/integration\",\n    \";..s/integration\",\n    \"➜  integration\",\n    \"n\",\n    \"\\bno\",
\n    \"d\",\n    \"e\",\n    \"-\",\n    \"e\",\n    \"c\",\n    \"o\",\n    \"n\",\n    \"s\",\n    \"ol\"
,\n    \"e\",\n    \".\",\n    \"l\",\n    \"o\",\n    \"g\",\n    \"(\",\n    \"`\",\n    \"R\",\n    \"e\"
,\n    \"s\",\n    \"t\",\n    \"a\",\n    \"r\",\n    \"t\",\n    \"t\",\n    \"e\",\n    \"s\",\n    \"t\"
,\n    \"p\",\n    \"r\",\n    \"o\",\n    \"c\",\n    \"e\",\n    \"s\",\n    \"s\",\n    \"s\",\n    \"t\"
,\n    \"a\",\n    \"r\",\n    \"t\",\n    \"e\",\n    \"d\",\n    \"P\",\n    \"I\",\n    \"D\",\n    \":\"
,\n    \"$\",\n    \"{\",\n    \"p\",\n    \"r\",\n    \"o\",\n    \"c\",\n    \"e\",\n    \"s\",\n    \"s\"
,\n    \".\",\n    \"p\",\n    \"pi\",\n    \"d\",\n    \"}\",\n    \"`\",\n    \")\",\n    \";\",\n    \"s\
",\n    \"e\",\n    \"t\",\n    \"I\",\n    \"n\",\n    \"t\",\n    \"e\",\n    \"r\",\n    \"v\",\n    \"a\
",\n    \"l\",\n    \"(\",\n    \"(\",\n    \")\",\n    \"=\",\n    \">\",\n    \"{\",\n    \"}\",\n    \",\
",\n    \"1\",\n    \"0\",\n    \"0\",\n    \"0\",\n    \")\",\n    \";\",\n    \"zsh: parse error near `)'\
",\n    \"%\",\n    \"ohnlindquist@johns:~/dev/mcp-dev-server/tests/integration\",\n    \";..s/integration\"
,\n    \"➜  integration\",\n    \"➜  integration git:(add-pre-push-test)\",\n    \"Restart requested.\",\n
  \"Stopping process before restart...\",\n    \"Stop requested. Force: false\",\n    \"Status changed to st
opping\",\n    \"Sending SIGTERM...\",\n    \"Process unresponsive to SIGTERM, sending SIGKILL...\",\n    \"
Process stopped before restart.\",\n    \"--- Process Exited (Code: 0, Signal: 9) ---\",\n    \"Status chang
ed to stopped\",\n    \"--- Process Started (2025-04-30T15:56:51.920Z) ---\",\n    \"Process spawned success
fully (PID: 79746) in /Users/johnlindquist/dev/mcp-dev-server/tests/integration. Status: starting.\",\n    \
"Status: running (no verification specified).\",\n    \"Status changed to running\",\n    \"Process reached
stable running state.\",\n    \"node -e console.log(`Restart test process started PID: ${process.pid}`); set
Interval(() => {}, 1000);\",\n    \"%\",\n    \"ohnlindquist@johns:~/dev/mcp-dev-server/tests/integration\",
\n    \";..s/integration\",\n    \"➜  integration\",\n    \"n\",\n    \"\\bno\",\n    \"de\",\n    \"-\",\n
   \"e\",\n    \"c\",\n    \"o\",\n    \"n\",\n    \"s\",\n    \"o\",\n    \"l\",\n    \"e.\",\n    \"l\",\n
    \"o\",\n    \"g\",\n    \"(\",\n    \"`\",\n    \"R\",\n    \"e\",\n    \"s\",\n    \"t\",\n    \"a\",\n
    \"r\",\n    \"t\",\n    \"t\",\n    \"e\",\n    \"s\",\n    \"t\",\n    \"p\",\n    \"r\",\n    \"o\",\n
    \"c\",\n    \"e\",\n    \"s\",\n    \"s\",\n    \"s\",\n    \"t\",\n    \"a\",\n    \"r\",\n    \"t\",\n
    \"e\",\n    \"d\",\n    \"P\",\n    \"I\",\n    \"D\",\n    \":\",\n    \"$\",\n    \"{\",\n    \"p\",\n
    \"r\",\n    \"o\",\n    \"c\",\n    \"e\",\n    \"s\",\n    \"s\",\n    \".\",\n    \"p\",\n    \"pi\",\
n    \"d\",\n    \"}\",\n    \"`\",\n    \")\",\n    \";\",\n    \"s\",\n    \"e\",\n    \"t\",\n    \"I\",\
n    \"n\",\n    \"t\",\n    \"e\",\n    \"r\",\n    \"v\",\n    \"a\",\n    \"l\",\n    \"(\",\n    \"(\",\
n    \")\",\n    \"=\",\n    \">\",\n    \"{\",\n    \"}\",\n    \",\",\n    \"1\",\n    \"0\",\n    \"0\",\
n    \"0\",\n    \")\",\n    \";\",\n    \"zsh: parse error near `)'\",\n    \"%\",\n    \"ohnlindquist@john
s:~/dev/mcp-dev-server/tests/integration\",\n    \";..s/integration\",\n    \"➜  integration\",\n    \"➜  in
tegration git:(add-pre-push-test)\"\n  ],\n  \"monitoring_hint\": \"If you requested to tail the 'test-resta
rt-1746028606011' process, please run this command in a separate background terminal: tail -f -n 10 \\\"/var
/folders/c3/r013q3_93_s4zycmx0mdnt2h0000gn/T/mcp-pm-logs-77683/test-restart-1746028606011.log.log\\\". For s
tatus updates or recent inline logs, use check_process_status('test-restart-1746028606011').\",\n  \"log_fil
e_path\": \"/var/folders/c3/r013q3_93_s4zycmx0mdnt2h0000gn/T/mcp-pm-logs-77683/test-restart-1746028606011.lo
g.log\",\n  \"tail_command\": \"tail -f -n 10 \\\"/var/folders/c3/r013q3_93_s4zycmx0mdnt2h0000gn/T/mcp-pm-lo
gs-77683/test-restart-1746028606011.log.log\\\"\",\n  \"info_message\": \"Process started. Logs settled quic
kly.\",\n  \"exitCode\": null,\n  \"signal\": null\n}"}]}

stderr | tests/integration/mcp-server.test.ts > MCP Process Manager Server (Stdio Integration) > should rest
art a running process
[Server STDERR RAW]: [mcp-pm test-restart-1746028606011] INFO: Tool successful: restart_process {
  responseSummary: '{\n' +
    '  "label": "test-restart-1746028606011",\n' +
    '  "message": "Process \\"test-restart-1746028606011\\" star...'
}

[Server STDERR]: [mcp-pm test-restart-1746028606011] INFO: Tool successful: restart_process {
  responseSummary: '{\n' +
    '  "label": "test-restart-1746028606011",\n' +
    '  "message": "Process \\"test-restart-1746028606011\\" star...'
}
[sendRequest][Server STDERR during request req-restart-test-restart-1746028606011]: [mcp-pm test-restart-174
6028606011] INFO: Tool successful: restart_process {
  responseSummary: '{\n' +
    '  "label": "test-restart-1746028606011",\n' +
    '  "message": "Process \\"test-restart-1746028606011\\" star...'
}

stdout | tests/integration/mcp-server.test.ts > MCP Process Manager Server (Stdio Integration) > should rest
art a running process
[sendRequest] Received matching response for ID req-restart-test-restart-1746028606011: {"result":{"content"
:[{"type":"text","text":"{\n  \"label\": \"test-restart-1746028606011\",\n  \"message\": \"Process \\\"test-
restart-1746028606011\\\" started with status: running.\",\n  \"status\": \"running\",\n  \"pid\": 79746,\n
 \"command\": \"node\",\n  \"args\": [\n    \"-e\",\n    \"console.log(`Restart test process started PID: ${
process.pid}`); setInterval(() => {}, 1000);\"\n  ],\n  \"cwd\": \"/Users/johnlindquist/dev/mcp-dev-server/t
ests/integration\",\n  \"logs\": [\n    \"Process spawned successfully (PID: 79232) in /Users/johnlindquist/
dev/mcp-dev-server/tests/integration. Status: starting.\",\n    \"Status: running (no verification specified
).\",\n    \"Status changed to running\",\n    \"Process reached stable running state.\",\n    \"node -e con
sole.log(`Restart test process started PID: ${process.pid}`); setInterval(() => {}, 1000);\",\n    \"%\",\n
   \"ohnlindquist@johns:~/dev/mcp-dev-server/tests/integration\",\n    \";..s/integration\",\n    \"➜  integ
ration\",\n    \"n\",\n    \"\\bno\",\n    \"d\",\n    \"e\",\n    \"-\",\n    \"e\",\n    \"c\",\n    \"o\"
,\n    \"n\",\n    \"s\",\n    \"ol\",\n    \"e\",\n    \".\",\n    \"l\",\n    \"o\",\n    \"g\",\n    \"(\
",\n    \"`\",\n    \"R\",\n    \"e\",\n    \"s\",\n    \"t\",\n    \"a\",\n    \"r\",\n    \"t\",\n    \"t\
",\n    \"e\",\n    \"s\",\n    \"t\",\n    \"p\",\n    \"r\",\n    \"o\",\n    \"c\",\n    \"e\",\n    \"s\
",\n    \"s\",\n    \"s\",\n    \"t\",\n    \"a\",\n    \"r\",\n    \"t\",\n    \"e\",\n    \"d\",\n    \"P\
",\n    \"I\",\n    \"D\",\n    \":\",\n    \"$\",\n    \"{\",\n    \"p\",\n    \"r\",\n    \"o\",\n    \"c\
",\n    \"e\",\n    \"s\",\n    \"s\",\n    \".\",\n    \"p\",\n    \"pi\",\n    \"d\",\n    \"}\",\n    \"`
\",\n    \")\",\n    \";\",\n    \"s\",\n    \"e\",\n    \"t\",\n    \"I\",\n    \"n\",\n    \"t\",\n    \"e
\",\n    \"r\",\n    \"v\",\n    \"a\",\n    \"l\",\n    \"(\",\n    \"(\",\n    \")\",\n    \"=\",\n    \">
\",\n    \"{\",\n    \"}\",\n    \",\",\n    \"1\",\n    \"0\",\n    \"0\",\n    \"0\",\n    \")\",\n    \";
\",\n    \"zsh: parse error near `)'\",\n    \"%\",\n    \"ohnlindquist@johns:~/dev/mcp-dev-server/tests/int
egration\",\n    \";..s/integration\",\n    \"➜  integration\",\n    \"➜  integration git:(add-pre-push-test
)\",\n    \"Restart requested.\",\n    \"Stopping process before restart...\",\n    \"Stop requested. Force:
 false\",\n    \"Status changed to stopping\",\n    \"Sending SIGTERM...\",\n    \"Process unresponsive to S
IGTERM, sending SIGKILL...\",\n    \"Process stopped before restart.\",\n    \"--- Process Exited (Code: 0,
Signal: 9) ---\",\n    \"Status changed to stopped\",\n    \"--- Process Started (2025-04-30T15:56:51.920Z)
---\",\n    \"Process spawned successfully (PID: 79746) in /Users/johnlindquist/dev/mcp-dev-server/tests/int
egration. Status: starting.\",\n    \"Status: running (no verification specified).\",\n    \"Status changed
to running\",\n    \"Process reached stable running state.\",\n    \"node -e console.log(`Restart test proce
ss started PID: ${process.pid}`); setInterval(() => {}, 1000);\",\n    \"%\",\n    \"ohnlindquist@johns:~/de
v/mcp-dev-server/tests/integration\",\n    \";..s/integration\",\n    \"➜  integration\",\n    \"n\",\n    \
"\\bno\",\n    \"de\",\n    \"-\",\n    \"e\",\n    \"c\",\n    \"o\",\n    \"n\",\n    \"s\",\n    \"o\",\n
    \"l\",\n    \"e.\",\n    \"l\",\n    \"o\",\n    \"g\",\n    \"(\",\n    \"`\",\n    \"R\",\n    \"e\",\
n    \"s\",\n    \"t\",\n    \"a\",\n    \"r\",\n    \"t\",\n    \"t\",\n    \"e\",\n    \"s\",\n    \"t\",\
n    \"p\",\n    \"r\",\n    \"o\",\n    \"c\",\n    \"e\",\n    \"s\",\n    \"s\",\n    \"s\",\n    \"t\",\
n    \"a\",\n    \"r\",\n    \"t\",\n    \"e\",\n    \"d\",\n    \"P\",\n    \"I\",\n    \"D\",\n    \":\",\
n    \"$\",\n    \"{\",\n    \"p\",\n    \"r\",\n    \"o\",\n    \"c\",\n    \"e\",\n    \"s\",\n    \"s\",\
n    \".\",\n    \"p\",\n    \"pi\",\n    \"d\",\n    \"}\",\n    \"`\",\n    \")\",\n    \";\",\n    \"s\",
\n    \"e\",\n    \"t\",\n    \"I\",\n    \"n\",\n    \"t\",\n    \"e\",\n    \"r\",\n    \"v\",\n    \"a\",
\n    \"l\",\n    \"(\",\n    \"(\",\n    \")\",\n    \"=\",\n    \">\",\n    \"{\",\n    \"}\",\n    \",\",
\n    \"1\",\n    \"0\",\n    \"0\",\n    \"0\",\n    \")\",\n    \";\",\n    \"zsh: parse error near `)'\",
\n    \"%\",\n    \"ohnlindquist@johns:~/dev/mcp-dev-server/tests/integration\",\n    \";..s/integration\",\
n    \"➜  integration\",\n    \"➜  integration git:(add-pre-push-test)\"\n  ],\n  \"monitoring_hint\": \"If
you requested to tail the 'test-restart-1746028606011' process, please run this command in a separate backgr
ound terminal: tail -f -n 10 \\\"/var/folders/c3/r013q3_93_s4zycmx0mdnt2h0000gn/T/mcp-pm-logs-77683/test-res
tart-1746028606011.log.log\\\". For status updates or recent inline logs, use check_process_status('test-res
tart-1746028606011').\",\n  \"log_file_path\": \"/var/folders/c3/r013q3_93_s4zycmx0mdnt2h0000gn/T/mcp-pm-log
s-77683/test-restart-1746028606011.log.log\",\n  \"tail_command\": \"tail -f -n 10 \\\"/var/folders/c3/r013q
3_93_s4zycmx0mdnt2h0000gn/T/mcp-pm-logs-77683/test-restart-1746028606011.log.log\\\"\",\n  \"info_message\":
 \"Process started. Logs settled quickly.\",\n  \"exitCode\": null,\n  \"signal\": null\n}"}]},"jsonrpc":"2.
0","id":"req-restart-test-restart-1746028606011"}

stdout | tests/integration/mcp-server.test.ts > MCP Process Manager Server (Stdio Integration) > should rest
art a running process
[TEST][restart] Received restart response: {"result":{"content":[{"type":"text","text":"{\n  \"label\": \"te
st-restart-1746028606011\",\n  \"message\": \"Process \\\"test-restart-1746028606011\\\" started with status
: running.\",\n  \"status\": \"running\",\n  \"pid\": 79746,\n  \"command\": \"node\",\n  \"args\": [\n    \
"-e\",\n    \"console.log(`Restart test process started PID: ${process.pid}`); setInterval(() => {}, 1000);\
"\n  ],\n  \"cwd\": \"/Users/johnlindquist/dev/mcp-dev-server/tests/integration\",\n  \"logs\": [\n    \"Pro
cess spawned successfully (PID: 79232) in /Users/johnlindquist/dev/mcp-dev-server/tests/integration. Status:
 starting.\",\n    \"Status: running (no verification specified).\",\n    \"Status changed to running\",\n
  \"Process reached stable running state.\",\n    \"node -e console.log(`Restart test process started PID: $
{process.pid}`); setInterval(() => {}, 1000);\",\n    \"%\",\n    \"ohnlindquist@johns:~/dev/mcp-dev-server/
tests/integration\",\n    \";..s/integration\",\n    \"➜  integration\",\n    \"n\",\n    \"\\bno\",\n    \"
d\",\n    \"e\",\n    \"-\",\n    \"e\",\n    \"c\",\n    \"o\",\n    \"n\",\n    \"s\",\n    \"ol\",\n    \
"e\",\n    \".\",\n    \"l\",\n    \"o\",\n    \"g\",\n    \"(\",\n    \"`\",\n    \"R\",\n    \"e\",\n    \
"s\",\n    \"t\",\n    \"a\",\n    \"r\",\n    \"t\",\n    \"t\",\n    \"e\",\n    \"s\",\n    \"t\",\n    \
"p\",\n    \"r\",\n    \"o\",\n    \"c\",\n    \"e\",\n    \"s\",\n    \"s\",\n    \"s\",\n    \"t\",\n    \
"a\",\n    \"r\",\n    \"t\",\n    \"e\",\n    \"d\",\n    \"P\",\n    \"I\",\n    \"D\",\n    \":\",\n    \
"$\",\n    \"{\",\n    \"p\",\n    \"r\",\n    \"o\",\n    \"c\",\n    \"e\",\n    \"s\",\n    \"s\",\n    \
".\",\n    \"p\",\n    \"pi\",\n    \"d\",\n    \"}\",\n    \"`\",\n    \")\",\n    \";\",\n    \"s\",\n
\"e\",\n    \"t\",\n    \"I\",\n    \"n\",\n    \"t\",\n    \"e\",\n    \"r\",\n    \"v\",\n    \"a\",\n
\"l\",\n    \"(\",\n    \"(\",\n    \")\",\n    \"=\",\n    \">\",\n    \"{\",\n    \"}\",\n    \",\",\n
\"1\",\n    \"0\",\n    \"0\",\n    \"0\",\n    \")\",\n    \";\",\n    \"zsh: parse error near `)'\",\n
\"%\",\n    \"ohnlindquist@johns:~/dev/mcp-dev-server/tests/integration\",\n    \";..s/integration\",\n    \
"➜  integration\",\n    \"➜  integration git:(add-pre-push-test)\",\n    \"Restart requested.\",\n    \"Stop
ping process before restart...\",\n    \"Stop requested. Force: false\",\n    \"Status changed to stopping\"
,\n    \"Sending SIGTERM...\",\n    \"Process unresponsive to SIGTERM, sending SIGKILL...\",\n    \"Process
stopped before restart.\",\n    \"--- Process Exited (Code: 0, Signal: 9) ---\",\n    \"Status changed to st
opped\",\n    \"--- Process Started (2025-04-30T15:56:51.920Z) ---\",\n    \"Process spawned successfully (P
ID: 79746) in /Users/johnlindquist/dev/mcp-dev-server/tests/integration. Status: starting.\",\n    \"Status:
 running (no verification specified).\",\n    \"Status changed to running\",\n    \"Process reached stable r
unning state.\",\n    \"node -e console.log(`Restart test process started PID: ${process.pid}`); setInterval
(() => {}, 1000);\",\n    \"%\",\n    \"ohnlindquist@johns:~/dev/mcp-dev-server/tests/integration\",\n    \"
;..s/integration\",\n    \"➜  integration\",\n    \"n\",\n    \"\\bno\",\n    \"de\",\n    \"-\",\n    \"e\"
,\n    \"c\",\n    \"o\",\n    \"n\",\n    \"s\",\n    \"o\",\n    \"l\",\n    \"e.\",\n    \"l\",\n    \"o\
",\n    \"g\",\n    \"(\",\n    \"`\",\n    \"R\",\n    \"e\",\n    \"s\",\n    \"t\",\n    \"a\",\n    \"r\
",\n    \"t\",\n    \"t\",\n    \"e\",\n    \"s\",\n    \"t\",\n    \"p\",\n    \"r\",\n    \"o\",\n    \"c\
",\n    \"e\",\n    \"s\",\n    \"s\",\n    \"s\",\n    \"t\",\n    \"a\",\n    \"r\",\n    \"t\",\n    \"e\
",\n    \"d\",\n    \"P\",\n    \"I\",\n    \"D\",\n    \":\",\n    \"$\",\n    \"{\",\n    \"p\",\n    \"r\
",\n    \"o\",\n    \"c\",\n    \"e\",\n    \"s\",\n    \"s\",\n    \".\",\n    \"p\",\n    \"pi\",\n    \"d
\",\n    \"}\",\n    \"`\",\n    \")\",\n    \";\",\n    \"s\",\n    \"e\",\n    \"t\",\n    \"I\",\n    \"n
\",\n    \"t\",\n    \"e\",\n    \"r\",\n    \"v\",\n    \"a\",\n    \"l\",\n    \"(\",\n    \"(\",\n    \")
\",\n    \"=\",\n    \">\",\n    \"{\",\n    \"}\",\n    \",\",\n    \"1\",\n    \"0\",\n    \"0\",\n    \"0
\",\n    \")\",\n    \";\",\n    \"zsh: parse error near `)'\",\n    \"%\",\n    \"ohnlindquist@johns:~/dev/
mcp-dev-server/tests/integration\",\n    \";..s/integration\",\n    \"➜  integration\",\n    \"➜  integratio
n git:(add-pre-push-test)\"\n  ],\n  \"monitoring_hint\": \"If you requested to tail the 'test-restart-17460
28606011' process, please run this command in a separate background terminal: tail -f -n 10 \\\"/var/folders
/c3/r013q3_93_s4zycmx0mdnt2h0000gn/T/mcp-pm-logs-77683/test-restart-1746028606011.log.log\\\". For status up
dates or recent inline logs, use check_process_status('test-restart-1746028606011').\",\n  \"log_file_path\"
: \"/var/folders/c3/r013q3_93_s4zycmx0mdnt2h0000gn/T/mcp-pm-logs-77683/test-restart-1746028606011.log.log\",
\n  \"tail_command\": \"tail -f -n 10 \\\"/var/folders/c3/r013q3_93_s4zycmx0mdnt2h0000gn/T/mcp-pm-logs-77683
/test-restart-1746028606011.log.log\\\"\",\n  \"info_message\": \"Process started. Logs settled quickly.\",\
n  \"exitCode\": null,\n  \"signal\": null\n}"}]},"jsonrpc":"2.0","id":"req-restart-test-restart-17460286060
11"}
[TEST][restart] Asserting restart response properties...
[TEST][restart] Restarted PID: 79746
[TEST][restart] Restart response assertions passed.
[TEST][restart] Sending check_process_status request after restart...
[sendRequest] Sending request (ID req-check-after-restart-test-restart-1746028606011): {"jsonrpc":"2.0","met
hod":"tools/call","params":{"name":"check_process_status","arguments":{"label":"test-restart-1746028606011",
"log_lines":0}},"id":"req-check-after-restart-test-restart-1746028606011"}

stderr | tests/integration/mcp-server.test.ts > MCP Process Manager Server (Stdio Integration) > should rest
art a running process
[Server STDERR RAW]: [mcp-pm test-restart-1746028606011] INFO: Tool invoked: check_process_status { params: 
{ label: 'test-restart-1746028606011', log_lines: 0 } }

[Server STDERR]: [mcp-pm test-restart-1746028606011] INFO: Tool invoked: check_process_status { params: { la
bel: 'test-restart-1746028606011', log_lines: 0 } }
[sendRequest][Server STDERR during request req-check-after-restart-test-restart-1746028606011]: [mcp-pm test
-restart-1746028606011] INFO: Tool invoked: check_process_status { params: { label: 'test-restart-1746028606
011', log_lines: 0 } }

stderr | tests/integration/mcp-server.test.ts > MCP Process Manager Server (Stdio Integration) > should rest
art a running process
[Server STDERR RAW]: [mcp-pm test-restart-1746028606011] INFO: Tool successful: check_process_status {
  responseSummary: '{\n' +
    '  "label": "test-restart-1746028606011",\n' +
    '  "status": "running",\n' +
    '  "pid": 79746,\n' +
    '  "command": "node...'
}

[Server STDERR]: [mcp-pm test-restart-1746028606011] INFO: Tool successful: check_process_status {
  responseSummary: '{\n' +
    '  "label": "test-restart-1746028606011",\n' +
    '  "status": "running",\n' +
    '  "pid": 79746,\n' +
    '  "command": "node...'
}
[sendRequest][Server STDERR during request req-check-after-restart-test-restart-1746028606011]: [mcp-pm test
-restart-1746028606011] INFO: Tool successful: check_process_status {
  responseSummary: '{\n' +
    '  "label": "test-restart-1746028606011",\n' +
    '  "status": "running",\n' +
    '  "pid": 79746,\n' +
    '  "command": "node...'
}

stdout | tests/integration/mcp-server.test.ts > MCP Process Manager Server (Stdio Integration) > should rest
art a running process
[sendRequest] Received matching response for ID req-check-after-restart-test-restart-1746028606011: {"result
":{"content":[{"type":"text","text":"{\n  \"label\": \"test-restart-1746028606011\",\n  \"status\": \"runnin
g\",\n  \"pid\": 79746,\n  \"command\": \"node\",\n  \"args\": [\n    \"-e\",\n    \"console.log(`Restart te
st process started PID: ${process.pid}`); setInterval(() => {}, 1000);\"\n  ],\n  \"cwd\": \"/Users/johnlind
quist/dev/mcp-dev-server/tests/integration\",\n  \"exitCode\": null,\n  \"signal\": null,\n  \"logs\": [],\n
  \"log_file_path\": \"/var/folders/c3/r013q3_93_s4zycmx0mdnt2h0000gn/T/mcp-pm-logs-77683/test-restart-17460
28606011.log.log\",\n  \"tail_command\": \"tail -f \\\"/var/folders/c3/r013q3_93_s4zycmx0mdnt2h0000gn/T/mcp-
pm-logs-77683/test-restart-1746028606011.log.log\\\"\",\n  \"hint\": \"Logs are stored (234 lines). Specify
'log_lines > 0' to view.\"\n}"}]},"jsonrpc":"2.0","id":"req-check-after-restart-test-restart-1746028606011"}
stdout | tests/integration/mcp-server.test.ts > MCP Process Manager Server (Stdio Integration) > should rest
art a running process
[TEST][restart] Final status check passed.
[TEST][restart] Sending stop request for cleanup (test-restart-1746028606011)...
[sendRequest] Sending request (ID req-stop-cleanup-restart-test-restart-1746028606011): {"jsonrpc":"2.0","me
thod":"tools/call","params":{"name":"stop_process","arguments":{"label":"test-restart-1746028606011"}},"id":
"req-stop-cleanup-restart-test-restart-1746028606011"}

stderr | tests/integration/mcp-server.test.ts > MCP Process Manager Server (Stdio Integration) > should rest
art a running process
[Server STDERR RAW]: [mcp-pm test-restart-1746028606011] INFO: Tool invoked: stop_process { params: { label:
 'test-restart-1746028606011', force: false } }

[Server STDERR]: [mcp-pm test-restart-1746028606011] INFO: Tool invoked: stop_process { params: { label: 'te
st-restart-1746028606011', force: false } }
[sendRequest][Server STDERR during request req-stop-cleanup-restart-test-restart-1746028606011]: [mcp-pm tes
t-restart-1746028606011] INFO: Tool invoked: stop_process { params: { label: 'test-restart-1746028606011', f
orce: false } }

stderr | tests/integration/mcp-server.test.ts > MCP Process Manager Server (Stdio Integration) > should rest
art a running process
[Server STDERR RAW]: [mcp-pm test-restart-1746028606011] INFO: Stop requested for process "test-restart-1746
028606011". Force: false
[mcp-pm test-restart-1746028606011] INFO: Status changing from running to stopping 
[mcp-pm test-restart-1746028606011] INFO: Attempting graceful shutdown. Sending SIGTERM to PID 79746... 

[Server STDERR]: [mcp-pm test-restart-1746028606011] INFO: Stop requested for process "test-restart-17460286
06011". Force: false
[mcp-pm test-restart-1746028606011] INFO: Status changing from running to stopping 
[mcp-pm test-restart-1746028606011] INFO: Attempting graceful shutdown. Sending SIGTERM to PID 79746...
[sendRequest][Server STDERR during request req-stop-cleanup-restart-test-restart-1746028606011]: [mcp-pm tes
t-restart-1746028606011] INFO: Stop requested for process "test-restart-1746028606011". Force: false
[mcp-pm test-restart-1746028606011] INFO: Status changing from running to stopping 
[mcp-pm test-restart-1746028606011] INFO: Attempting graceful shutdown. Sending SIGTERM to PID 79746...

stderr | tests/integration/mcp-server.test.ts > MCP Process Manager Server (Stdio Integration) > should rest
art a running process
[Server STDERR RAW]: [mcp-pm test-restart-1746028606011] DEBUG: fkill sent (SIGTERM) to 79746 

[Server STDERR]: [mcp-pm test-restart-1746028606011] DEBUG: fkill sent (SIGTERM) to 79746
[sendRequest][Server STDERR during request req-stop-cleanup-restart-test-restart-1746028606011]: [mcp-pm tes
t-restart-1746028606011] DEBUG: fkill sent (SIGTERM) to 79746

stderr | tests/integration/mcp-server.test.ts > MCP Process Manager Server (Stdio Integration) > should rest
art a running process
[Server STDERR RAW]: [mcp-pm test-restart-1746028606011] DEBUG: Waiting 3000ms for graceful shutdown... 

[Server STDERR]: [mcp-pm test-restart-1746028606011] DEBUG: Waiting 3000ms for graceful shutdown...
[sendRequest][Server STDERR during request req-stop-cleanup-restart-test-restart-1746028606011]: [mcp-pm tes
t-restart-1746028606011] DEBUG: Waiting 3000ms for graceful shutdown...

stderr | tests/integration/mcp-server.test.ts > MCP Process Manager Server (Stdio Integration) > should rest
art a running process
[Server STDERR RAW]: [mcp-pm test-restart-1746028606011] WARN: Process did not terminate after SIGTERM and w
ait. Sending SIGKILL to PID 79746...

[Server STDERR]: [mcp-pm test-restart-1746028606011] WARN: Process did not terminate after SIGTERM and wait.
 Sending SIGKILL to PID 79746...
[sendRequest][Server STDERR during request req-stop-cleanup-restart-test-restart-1746028606011]: [mcp-pm tes
t-restart-1746028606011] WARN: Process did not terminate after SIGTERM and wait. Sending SIGKILL to PID 7974
6...

stderr | tests/integration/mcp-server.test.ts > MCP Process Manager Server (Stdio Integration) > should rest
art a running process
[Server STDERR RAW]: [mcp-pm test-restart-1746028606011] DEBUG: fkill sent (SIGKILL) to 79746 

[Server STDERR]: [mcp-pm test-restart-1746028606011] DEBUG: fkill sent (SIGKILL) to 79746
[sendRequest][Server STDERR during request req-stop-cleanup-restart-test-restart-1746028606011]: [mcp-pm tes
t-restart-1746028606011] DEBUG: fkill sent (SIGKILL) to 79746

stderr | tests/integration/mcp-server.test.ts > MCP Process Manager Server (Stdio Integration) > should rest
art a running process
[Server STDERR RAW]: [mcp-pm test-restart-1746028606011] INFO: Tool successful: stop_process {
  responseSummary: '{"label":"test-restart-1746028606011","status":"stopping","message":"Graceful stop attem
pted (SIGTER...'
}

[Server STDERR]: [mcp-pm test-restart-1746028606011] INFO: Tool successful: stop_process {
  responseSummary: '{"label":"test-restart-1746028606011","status":"stopping","message":"Graceful stop attem
pted (SIGTER...'
}
[sendRequest][Server STDERR during request req-stop-cleanup-restart-test-restart-1746028606011]: [mcp-pm tes
t-restart-1746028606011] INFO: Tool successful: stop_process {
  responseSummary: '{"label":"test-restart-1746028606011","status":"stopping","message":"Graceful stop attem
pted (SIGTER...'
}

stdout | tests/integration/mcp-server.test.ts > MCP Process Manager Server (Stdio Integration) > should rest
art a running process
[sendRequest] Received matching response for ID req-stop-cleanup-restart-test-restart-1746028606011: {"resul
t":{"content":[{"type":"text","text":"{\"label\":\"test-restart-1746028606011\",\"status\":\"stopping\",\"me
ssage\":\"Graceful stop attempted (SIGTERM), but process unresponsive. SIGKILL sent to PID 79746.\",\"pid\":
79746}"}]},"jsonrpc":"2.0","id":"req-stop-cleanup-restart-test-restart-1746028606011"}

stdout | tests/integration/mcp-server.test.ts > MCP Process Manager Server (Stdio Integration) > should rest
art a running process
[TEST][restart] Cleanup stop request sent. Test finished.

stdout | tests/integration/mcp-server.test.ts > MCP Process Manager Server (Stdio Integration)
[TEST] AfterAll: Tearing down server...
[TEST] Terminating server process...
[TEST] Sent SIGTERM to server process.

stderr | tests/integration/mcp-server.test.ts > MCP Process Manager Server (Stdio Integration)
[Server STDERR RAW]: [mcp-pm test-restart-1746028606011] DEBUG: Main onExit handler triggered. { exitCode: 0
, signal: 9 }
[mcp-pm test-restart-1746028606011] INFO: [ExitHandler] Process exited. Code: 0, Signal: 9 
[mcp-pm test-restart-1746028606011] DEBUG: Closing log file stream for test-restart-1746028606011 due to exi
t.
[mcp-pm test-restart-1746028606011] INFO: Status changing from stopping to stopped 
[mcp-pm test-restart-1746028606011] DEBUG: Log file stream for test-restart-1746028606011 finished writing a
nd closed.
[mcp-pm] INFO: Initiating graceful shutdown... 
[mcp-pm] INFO: Cleared zombie check interval. 
[mcp-pm] INFO: Stopping all managed processes on exit... 
[mcp-pm test-process-1746028589103] INFO: Attempting to stop process test-process-1746028589103 (PID: 77702)
...
[mcp-pm test-process-1746028589103] INFO: Status changing from stopped to stopping 

[Server STDERR]: [mcp-pm test-restart-1746028606011] DEBUG: Main onExit handler triggered. { exitCode: 0, si
gnal: 9 }
[mcp-pm test-restart-1746028606011] INFO: [ExitHandler] Process exited. Code: 0, Signal: 9 
[mcp-pm test-restart-1746028606011] DEBUG: Closing log file stream for test-restart-1746028606011 due to exi
t.
[mcp-pm test-restart-1746028606011] INFO: Status changing from stopping to stopped 
[mcp-pm test-restart-1746028606011] DEBUG: Log file stream for test-restart-1746028606011 finished writing a
nd closed.
[mcp-pm] INFO: Initiating graceful shutdown... 
[mcp-pm] INFO: Cleared zombie check interval. 
[mcp-pm] INFO: Stopping all managed processes on exit... 
[mcp-pm test-process-1746028589103] INFO: Attempting to stop process test-process-1746028589103 (PID: 77702)
...
[mcp-pm test-process-1746028589103] INFO: Status changing from stopped to stopping

stderr | tests/integration/mcp-server.test.ts > MCP Process Manager Server (Stdio Integration)
[Server STDERR RAW]: [mcp-pm test-list-1746028595177] INFO: Attempting to stop process test-list-17460285951
77 (PID: 78241)...
[mcp-pm test-list-1746028595177] INFO: Status changing from stopped to stopping 

[Server STDERR]: [mcp-pm test-list-1746028595177] INFO: Attempting to stop process test-list-1746028595177 (
PID: 78241)...
[mcp-pm test-list-1746028595177] INFO: Status changing from stopped to stopping

stderr | tests/integration/mcp-server.test.ts > MCP Process Manager Server (Stdio Integration)
[Server STDERR RAW]: [mcp-pm test-check-1746028600612] INFO: Attempting to stop process test-check-174602860
0612 (PID: 78739)...

[Server STDERR]: [mcp-pm test-check-1746028600612] INFO: Attempting to stop process test-check-1746028600612
 (PID: 78739)...

stderr | tests/integration/mcp-server.test.ts > MCP Process Manager Server (Stdio Integration)
[Server STDERR RAW]: [mcp-pm test-check-1746028600612] INFO: Status changing from stopped to stopping 

[Server STDERR]: [mcp-pm test-check-1746028600612] INFO: Status changing from stopped to stopping

stderr | tests/integration/mcp-server.test.ts > MCP Process Manager Server (Stdio Integration)
[Server STDERR RAW]: [mcp-pm test-restart-1746028606011] INFO: Attempting to stop process test-restart-17460
28606011 (PID: 79746)...
[mcp-pm test-restart-1746028606011] INFO: Status changing from stopped to stopping 

[Server STDERR]: [mcp-pm test-restart-1746028606011] INFO: Attempting to stop process test-restart-174602860
6011 (PID: 79746)...
[mcp-pm test-restart-1746028606011] INFO: Status changing from stopped to stopping

stderr | tests/integration/mcp-server.test.ts > MCP Process Manager Server (Stdio Integration)
[Server STDERR RAW]: [mcp-pm] INFO: Issued stop commands for all processes. 

[Server STDERR]: [mcp-pm] INFO: Issued stop commands for all processes.

stderr | tests/integration/mcp-server.test.ts > MCP Process Manager Server (Stdio Integration)
[Server STDERR RAW]: [mcp-pm] INFO: Cleanup complete. Exiting. 
[mcp-pm] INFO: Process exiting... 

[Server STDERR]: [mcp-pm] INFO: Cleanup complete. Exiting. 
[mcp-pm] INFO: Process exiting...

stdout | tests/integration/mcp-server.test.ts > MCP Process Manager Server (Stdio Integration)
[TEST] Server process exited. Code: 0, Signal: null
[TEST] Server stdio streams closed.

stdout | tests/integration/mcp-server.test.ts > MCP Process Manager Server (Stdio Integration)
[TEST] Server process terminated gracefully after SIGTERM.
[TEST] AfterAll: Teardown complete.

 ✓ tests/integration/mcp-server.test.ts (6 tests) 29015ms
   ✓ MCP Process Manager Server (Stdio Integration) > should list zero processes initially 7ms
   ✓ MCP Process Manager Server (Stdio Integration) > should respond successfully to health_check 2ms
   ✓ MCP Process Manager Server (Stdio Integration) > should start a simple process and receive confirmation
  6074ms
   ✓ MCP Process Manager Server (Stdio Integration) > should list one running process after starting it  543
5ms
   ✓ MCP Process Manager Server (Stdio Integration) > should check the status of a running process  5399ms
   ✓ MCP Process Manager Server (Stdio Integration) > should restart a running process  11338ms

 Test Files  1 passed (1)
      Tests  6 passed (6)
   Start at  09:56:28
   Duration  29.21s (transform 38ms, setup 0ms, collect 38ms, tests 29.01s, environment 0ms, prepare 27ms)

Enumerating objects: 6, done.
Counting objects: 100% (6/6), done.
Delta compression using up to 16 threads
Compressing objects: 100% (4/4), done.
Writing objects: 100% (4/4), 415 bytes | 415.00 KiB/s, done.
Total 4 (delta 2), reused 0 (delta 0), pack-reused 0 (from 0)
remote: Resolving deltas: 100% (2/2), completed with 2 local objects.
remote: 
remote: Create a pull request for 'add-pre-push-test' on GitHub by visiting:
remote:      https://github.com/johnlindquist/mcp-pm/pull/new/add-pre-push-test
remote: 
To https://github.com/johnlindquist/mcp-pm.git
 * [new branch]      add-pre-push-test -> add-pre-push-test

```

---

The tests passed and the branch `add-pre-push-test` has been pushed.

Now, I'll create the pull request using the GitHub CLI.

---

```bash
gh pr create --fill
```

```
➜  mcp-dev-server git:(add-pre-push-test) gh pr create --fill

Creating pull request for add-pre-push-test into main in johnlindquist/mcp-pm

https://github.com/johnlindquist/mcp-pm/pull/19
➜  mcp-dev-server git:(add-pre-push-test)
```

---

Done! I've created the branch, added the `pre-push` hook with the test command, pushed the branch, and created the pull request.

---

